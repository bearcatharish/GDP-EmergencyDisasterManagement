/**
 * Parse JavaScript SDK v1.9.0
 *
 * Copyright (c) 2015-present, Parse, LLC.
 * All rights reserved.
 *
 * The source tree of this library can be found at
 *   https://github.com/ParsePlatform/Parse-SDK-JS
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Parse=e()}}(function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";function n(e,t,r){if(e=e||"",e=e.replace(/^\s*/,""),e=e.replace(/\s*$/,""),0===e.length)throw new TypeError("A name for the custom event must be provided");for(var n in t)if("string"!=typeof n||"string"!=typeof t[n])throw new TypeError('track() dimensions expects keys and values of type "string".');return r=r||{},s["default"].getAnalyticsController().track(e,t)._thenRunCallbacks(r)}var i=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.track=n;var o=e("./CoreManager"),s=i(o);s["default"].setAnalyticsController({track:function(e,t){var r=s["default"].getRESTController();return r.request("POST","events/"+e,{dimensions:t})}})},{"./CoreManager":3,"babel-runtime/helpers/interop-require-default":56}],2:[function(e,t,r){"use strict";function n(e,t,r){if(r=r||{},"string"!=typeof e||0===e.length)throw new TypeError("Cloud function name must be a string.");var n={};return r.useMasterKey&&(n.useMasterKey=r.useMasterKey),r.sessionToken&&(n.sessionToken=r.sessionToken),s["default"].getCloudController().run(e,t,n)._thenRunCallbacks(r)}var i=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.run=n;var o=e("./CoreManager"),s=i(o),a=e("./decode"),u=i(a),l=e("./encode"),c=i(l),f=e("./ParseError"),d=i(f),h=e("./ParsePromise"),p=i(h);s["default"].setCloudController({run:function(e,t,r){var n=s["default"].getRESTController(),i=(0,c["default"])(t,!0),o={};r.hasOwnProperty("useMasterKey")&&(o.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(o.sessionToken=r.sessionToken);var a=n.request("POST","functions/"+e,i,o);return a.then(function(e){var t=(0,u["default"])(e);return t&&t.hasOwnProperty("result")?p["default"].as(t.result):p["default"].error(new d["default"](d["default"].INVALID_JSON,"The server returned an invalid response."))})._thenRunCallbacks(r)}})},{"./CoreManager":3,"./ParseError":13,"./ParsePromise":20,"./decode":35,"./encode":36,"babel-runtime/helpers/interop-require-default":56}],3:[function(e,t,r){(function(e){"use strict";var r={IS_NODE:"undefined"!=typeof e&&!!e.versions&&!!e.versions.node&&!e.version.electron,REQUEST_ATTEMPT_LIMIT:5,SERVER_URL:"https://api.parse.com/1",LIVEQUERY_SERVER_URL:null,VERSION:"js1.9.0",APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1};t.exports={get:function(e){if(r.hasOwnProperty(e))return r[e];throw new Error("Configuration key not found: "+e)},set:function(e,t){r[e]=t},setAnalyticsController:function(e){if("function"!=typeof e.track)throw new Error("AnalyticsController must implement track()");r.AnalyticsController=e},getAnalyticsController:function(){return r.AnalyticsController},setCloudController:function(e){if("function"!=typeof e.run)throw new Error("CloudController must implement run()");r.CloudController=e},getCloudController:function(){return r.CloudController},setConfigController:function(e){if("function"!=typeof e.current)throw new Error("ConfigController must implement current()");if("function"!=typeof e.get)throw new Error("ConfigController must implement get()");r.ConfigController=e},getConfigController:function(){return r.ConfigController},setFileController:function(e){if("function"!=typeof e.saveFile)throw new Error("FileController must implement saveFile()");if("function"!=typeof e.saveBase64)throw new Error("FileController must implement saveBase64()");r.FileController=e},getFileController:function(){return r.FileController},setInstallationController:function(e){if("function"!=typeof e.currentInstallationId)throw new Error("InstallationController must implement currentInstallationId()");r.InstallationController=e},getInstallationController:function(){return r.InstallationController},setObjectController:function(e){if("function"!=typeof e.save)throw new Error("ObjectController must implement save()");if("function"!=typeof e.fetch)throw new Error("ObjectController must implement fetch()");if("function"!=typeof e.destroy)throw new Error("ObjectController must implement destroy()");r.ObjectController=e},getObjectController:function(){return r.ObjectController},setObjectStateController:function(e){if("function"!=typeof e.getState)throw new Error("ObjectStateController must implement getState()");if("function"!=typeof e.initializeState)throw new Error("ObjectStateController must implement initializeState()");if("function"!=typeof e.removeState)throw new Error("ObjectStateController must implement removeState()");if("function"!=typeof e.getServerData)throw new Error("ObjectStateController must implement getServerData()");if("function"!=typeof e.setServerData)throw new Error("ObjectStateController must implement setServerData()");if("function"!=typeof e.getPendingOps)throw new Error("ObjectStateController must implement getPendingOps()");if("function"!=typeof e.setPendingOp)throw new Error("ObjectStateController must implement setPendingOp()");if("function"!=typeof e.pushPendingState)throw new Error("ObjectStateController must implement pushPendingState()");if("function"!=typeof e.popPendingState)throw new Error("ObjectStateController must implement popPendingState()");if("function"!=typeof e.mergeFirstPendingState)throw new Error("ObjectStateController must implement mergeFirstPendingState()");if("function"!=typeof e.getObjectCache)throw new Error("ObjectStateController must implement getObjectCache()");if("function"!=typeof e.estimateAttribute)throw new Error("ObjectStateController must implement estimateAttribute()");if("function"!=typeof e.estimateAttributes)throw new Error("ObjectStateController must implement estimateAttributes()");if("function"!=typeof e.commitServerChanges)throw new Error("ObjectStateController must implement commitServerChanges()");if("function"!=typeof e.enqueueTask)throw new Error("ObjectStateController must implement enqueueTask()");if("function"!=typeof e.clearAllState)throw new Error("ObjectStateController must implement clearAllState()");r.ObjectStateController=e},getObjectStateController:function(){return r.ObjectStateController},setPushController:function(e){if("function"!=typeof e.send)throw new Error("PushController must implement send()");r.PushController=e},getPushController:function(){return r.PushController},setQueryController:function(e){if("function"!=typeof e.find)throw new Error("QueryController must implement find()");r.QueryController=e},getQueryController:function(){return r.QueryController},setRESTController:function(e){if("function"!=typeof e.request)throw new Error("RESTController must implement request()");if("function"!=typeof e.ajax)throw new Error("RESTController must implement ajax()");r.RESTController=e},getRESTController:function(){return r.RESTController},setSessionController:function(e){if("function"!=typeof e.getSession)throw new Error("A SessionController must implement getSession()");r.SessionController=e},getSessionController:function(){return r.SessionController},setStorageController:function(e){if(e.async){if("function"!=typeof e.getItemAsync)throw new Error("An async StorageController must implement getItemAsync()");if("function"!=typeof e.setItemAsync)throw new Error("An async StorageController must implement setItemAsync()");if("function"!=typeof e.removeItemAsync)throw new Error("An async StorageController must implement removeItemAsync()")}else{if("function"!=typeof e.getItem)throw new Error("A synchronous StorageController must implement getItem()");if("function"!=typeof e.setItem)throw new Error("A synchronous StorageController must implement setItem()");if("function"!=typeof e.removeItem)throw new Error("A synchonous StorageController must implement removeItem()")}r.StorageController=e},getStorageController:function(){return r.StorageController},setUserController:function(e){if("function"!=typeof e.setCurrentUser)throw new Error("A UserController must implement setCurrentUser()");if("function"!=typeof e.currentUser)throw new Error("A UserController must implement currentUser()");if("function"!=typeof e.currentUserAsync)throw new Error("A UserController must implement currentUserAsync()");if("function"!=typeof e.signUp)throw new Error("A UserController must implement signUp()");if("function"!=typeof e.logIn)throw new Error("A UserController must implement logIn()");if("function"!=typeof e.become)throw new Error("A UserController must implement become()");if("function"!=typeof e.logOut)throw new Error("A UserController must implement logOut()");if("function"!=typeof e.requestPasswordReset)throw new Error("A UserController must implement requestPasswordReset()");if("function"!=typeof e.upgradeToRevocableSession)throw new Error("A UserController must implement upgradeToRevocableSession()");if("function"!=typeof e.linkWith)throw new Error("A UserController must implement linkWith()");r.UserController=e},getUserController:function(){return r.UserController},setLiveQueryController:function(e){if("function"!=typeof e.subscribe)throw new Error("LiveQueryController must implement subscribe()");if("function"!=typeof e.unsubscribe)throw new Error("LiveQueryController must implement unsubscribe()");if("function"!=typeof e.open)throw new Error("LiveQueryController must implement open()");if("function"!=typeof e.close)throw new Error("LiveQueryController must implement close()");r.LiveQueryController=e},getLiveQueryController:function(){return r.LiveQueryController},setHooksController:function(e){["create","get","update","remove"].forEach(function(t){if("function"!=typeof e[t])throw new Error("A HooksController must implement "+t+"()")}),r.HooksController=e},getHooksController:function(){return r.HooksController}}}).call(this,e("_process"))},{_process:58}],4:[function(e,t,r){"use strict";t.exports=e("events").EventEmitter},{events:59}],5:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i,o,s=e("./parseDate"),a=n(s),u=e("./ParseUser"),l=n(u),c=!1;r["default"]={init:function(e){if("undefined"==typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(o={},e)for(var t in e)o[t]=e[t];if(o.status&&"undefined"!=typeof console){var r=console.warn||console.log||function(){};r.call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.')}o.status=!1,FB.init(o),l["default"]._registerAuthenticationProvider({authenticate:function(e){var t=this;"undefined"==typeof FB&&e.error(this,"Facebook SDK not found."),FB.login(function(r){r.authResponse?e.success&&e.success(t,{id:r.authResponse.userID,access_token:r.authResponse.accessToken,expiration_date:new Date(1e3*r.authResponse.expiresIn+(new Date).getTime()).toJSON()}):e.error&&e.error(t,r)},{scope:i})},restoreAuthentication:function(e){if(e){var t=(0,a["default"])(e.expiration_date),r=t?(t.getTime()-(new Date).getTime())/1e3:0,n={userID:e.id,accessToken:e.access_token,expiresIn:r},i={};if(o)for(var s in o)i[s]=o[s];i.authResponse=n,i.status=!1;var u=FB.getAuthResponse();u&&u.userID!==n.userID&&FB.logout(),FB.init(i)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}}),c=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,t){if(e&&"string"!=typeof e){var r={};if(t)for(var n in t)r[n]=t[n];return r.authData=e,l["default"]._logInWith("facebook",r)}if(!c)throw new Error("You must initialize FacebookUtils before calling logIn.");return i=e,l["default"]._logInWith("facebook",t)},link:function(e,t,r){if(t&&"string"!=typeof t){var n={};if(r)for(var o in r)n[o]=r[o];return n.authData=t,e._linkWith("facebook",n)}if(!c)throw new Error("You must initialize FacebookUtils before calling link.");return i=t,e._linkWith("facebook",r)},unlink:function(e,t){if(!c)throw new Error("You must initialize FacebookUtils before calling unlink.");return e._unlinkFrom("facebook",t)}},t.exports=r["default"]},{"./ParseUser":25,"./parseDate":40,"babel-runtime/helpers/interop-require-default":56}],6:[function(e,t,r){"use strict";function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}var o=e("babel-runtime/helpers/interop-require-default")["default"],s=e("./CoreManager"),a=(o(s),e("./ParsePromise")),u=o(a),l=e("./Storage"),c=o(l),f=null;t.exports={currentInstallationId:function(){if("string"==typeof f)return u["default"].as(f);var e=c["default"].generatePath("installationId");return c["default"].getItemAsync(e).then(function(t){return t?(f=t,t):(t=i(),c["default"].setItemAsync(e,t).then(function(){return f=t,t}))})},_clearCache:function(){f=null},_setInstallationIdCache:function(e){f=e}}},{"./CoreManager":3,"./ParsePromise":20,"./Storage":29,"babel-runtime/helpers/interop-require-default":56}],7:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/map")["default"],u=e("babel-runtime/core-js/get-iterator")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var c=e("./EventEmitter"),f=l(c),d=e("./ParsePromise"),h=l(d),p=e("./ParseObject"),v=l(p),y=e("./LiveQuerySubscription"),m=l(y),b={INITIALIZED:"initialized",CONNECTING:"connecting",CONNECTED:"connected",CLOSED:"closed",RECONNECTING:"reconnecting",DISCONNECTED:"disconnected"},g={CONNECT:"connect",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",ERROR:"error"},_={CONNECTED:"connected",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed",ERROR:"error",CREATE:"create",UPDATE:"update",ENTER:"enter",LEAVE:"leave",DELETE:"delete"},w={CLOSE:"close",ERROR:"error",OPEN:"open"},O={OPEN:"open",CLOSE:"close",ERROR:"error",CREATE:"create",UPDATE:"update",ENTER:"enter",LEAVE:"leave",DELETE:"delete"},C=function(e){return Math.random()*Math.min(30,Math.pow(2,e)-1)*1e3},E=function(e){function t(e){var r=e.applicationId,i=e.serverURL,o=e.javascriptKey,u=e.masterKey,l=e.sessionToken;if(s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!i||0!==i.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");this.reconnectHandle=null,this.attempts=1,this.id=0,this.requestId=1,this.serverURL=i,this.applicationId=r,this.javascriptKey=o,this.masterKey=u,this.sessionToken=l,this.connectPromise=new h["default"],this.subscriptions=new a,this.state=b.INITIALIZED}return i(t,e),o(t,[{key:"shouldOpen",value:function(){return this.state===b.INITIALIZED||this.state===b.DISCONNECTED}},{key:"subscribe",value:function(e,t){var r=this;if(e){var n=e.toJSON().where,i=e.className,o={op:g.SUBSCRIBE,requestId:this.requestId,query:{className:i,where:n}};t&&(o.sessionToken=t);var s=new m["default"](this.requestId,e,t);return this.subscriptions.set(this.requestId,s),this.requestId+=1,this.connectPromise.then(function(){r.socket.send(JSON.stringify(o))}),s.on("error",function(){}),s}}},{key:"unsubscribe",value:function(e){var t=this;if(e){this.subscriptions["delete"](e.id);var r={op:g.UNSUBSCRIBE,requestId:e.id};this.connectPromise.then(function(){t.socket.send(JSON.stringify(r))})}}},{key:"open",value:function(){var e=this,t=this._getWebSocketImplementation();return t?(this.state!==b.RECONNECTING&&(this.state=b.CONNECTING),this.socket=new t(this.serverURL),this.socket.onopen=function(){e._handleWebSocketOpen()},this.socket.onmessage=function(t){e._handleWebSocketMessage(t)},this.socket.onclose=function(){e._handleWebSocketClose()},void(this.socket.onerror=function(t){console.log("error on socket"),e._handleWebSocketError(t)})):void this.emit(w.ERROR,"Can not find WebSocket implementation")}},{key:"resubscribe",value:function(){var e=this;this.subscriptions.forEach(function(t,r){var n=t.query,i=n.toJSON().where,o=n.className,s=t.sessionToken,a={op:g.SUBSCRIBE,requestId:r,query:{className:o,where:i}};s&&(a.sessionToken=s),e.connectPromise.then(function(){e.socket.send(JSON.stringify(a))})})}},{key:"close",value:function(){if(this.state!==b.INITIALIZED&&this.state!==b.DISCONNECTED){this.state=b.DISCONNECTED,this.socket.close();var e=!0,t=!1,r=void 0;try{for(var n,i=u(this.subscriptions.values());!(e=(n=i.next()).done);e=!0){var o=n.value;o.emit(O.CLOSE)}}catch(s){t=!0,r=s}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw r}}this._handleReset(),this.emit(w.CLOSE)}}},{key:"_getWebSocketImplementation",value:function(){return"function"==typeof WebSocket||"object"==typeof WebSocket?WebSocket:null}},{key:"_handleReset",value:function(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=new h["default"],this.subscriptions=new a}},{key:"_handleWebSocketOpen",value:function(){this.attempts=1;var e={op:g.CONNECT,applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.socket.send(JSON.stringify(e))}},{key:"_handleWebSocketMessage",value:function(e){var t=e.data;"string"==typeof t&&(t=JSON.parse(t));var r=null;switch(t.requestId&&(r=this.subscriptions.get(t.requestId)),t.op){case _.CONNECTED:this.state===b.RECONNECTING&&this.resubscribe(),this.emit(w.OPEN),this.id=t.clientId,this.connectPromise.resolve(),this.state=b.CONNECTED;break;case _.SUBSCRIBED:r&&r.emit(O.OPEN);break;case _.ERROR:t.requestId?r&&r.emit(O.ERROR,t.error):this.emit(w.ERROR,t.error);break;case _.UNSUBSCRIBED:break;default:var n=t.object.className;delete t.object.__type,delete t.object.className;var i=new v["default"](n);if(i._finishFetch(t.object),!r)break;r.emit(t.op,i)}}},{key:"_handleWebSocketClose",value:function(){if(this.state!==b.DISCONNECTED){this.state=b.CLOSED,this.emit(w.CLOSE);var e=!0,t=!1,r=void 0;try{for(var n,i=u(this.subscriptions.values());!(e=(n=i.next()).done);e=!0){var o=n.value;o.emit(O.CLOSE)}}catch(s){t=!0,r=s}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw r}}this._handleReconnect()}}},{key:"_handleWebSocketError",value:function(e){this.emit(w.ERROR,e);var t=!0,r=!1,n=void 0;try{for(var i,o=u(this.subscriptions.values());!(t=(i=o.next()).done);t=!0){var s=i.value;s.emit(O.ERROR)}}catch(a){r=!0,n=a}finally{try{!t&&o["return"]&&o["return"]()}finally{if(r)throw n}}this._handleReconnect()}},{key:"_handleReconnect",value:function(){var e=this;if(this.state!==b.DISCONNECTED){this.state=b.RECONNECTING;var t=C(this.attempts);this.reconnectHandle?clearTimeout(this.reconnectHandle):console.info("attempting to reconnect"),this.reconnectHandle=setTimeout(function(){e.attempts++,e.connectPromise=new h["default"],e.open()}.bind(this),t)}}}]),t}(f["default"]);r["default"]=E,t.exports=r["default"]},{"./EventEmitter":4,"./LiveQuerySubscription":8,"./ParseObject":18,"./ParsePromise":20,"babel-runtime/core-js/get-iterator":43,"babel-runtime/core-js/map":44,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],8:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./EventEmitter"),l=a(u),c=e("./CoreManager"),f=a(c),d=function(e){function t(e,r,i){s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.id=e,this.query=r,this.sessionToken=i}return i(t,e),o(t,[{key:"unsubscribe",value:function(){var e=this,t=this;f["default"].getLiveQueryController().getDefaultLiveQueryClient().then(function(r){r.unsubscribe(t),t.emit("close"),e.resolve()})}}]),t}(l["default"]);r["default"]=d,t.exports=r["default"]},{"./CoreManager":3,"./EventEmitter":4,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],9:[function(e,t,r){"use strict";function n(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new C["default"],existed:!1}}function i(e,t){for(var r in t)"undefined"!=typeof t[r]?e[r]=t[r]:delete e[r]}function o(e,t,r){var n=e.length-1;r?e[n][t]=r:delete e[n][t]}function s(e){e.push({})}function a(e){var t=e.shift();return e.length||(e[0]={}),t}function u(e){var t=a(e),r=e[0];for(var n in t)if(r[n]&&t[n]){var i=r[n].mergeWith(t[n]);i&&(r[n]=i)}else r[n]=t[n]}function l(e,t,r,n,i){for(var o=e[i],s=0;s<t.length;s++)t[s][i]&&(o=t[s][i]instanceof E.RelationOp?t[s][i].applyTo(o,{className:r,id:n},i):t[s][i].applyTo(o));return o}function c(e,t,r,n){var i={},o=void 0;for(o in e)i[o]=e[o];for(var s=0;s<t.length;s++)for(o in t[s])t[s][o]instanceof E.RelationOp?i[o]=t[s][o].applyTo(i[o],{className:r,id:n},o):i[o]=t[s][o].applyTo(i[o]);return i}function f(e,t,r){for(var n in r){var i=r[n];if(e[n]=i,i&&"object"==typeof i&&!(i instanceof b["default"])&&!(i instanceof y["default"])&&!(i instanceof w["default"])){var o=(0,p["default"])(i,!1,!0);t[n]=JSON.stringify(o)}}}var d=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.defaultState=n,r.setServerData=i,r.setPendingOp=o,r.pushPendingState=s,r.popPendingState=a,r.mergeFirstPendingState=u,r.estimateAttribute=l,r.estimateAttributes=c,r.commitServerChanges=f;var h=e("./encode"),p=d(h),v=e("./ParseFile"),y=d(v),m=e("./ParseObject"),b=d(m),g=e("./ParsePromise"),_=(d(g),e("./ParseRelation")),w=d(_),O=e("./TaskQueue"),C=d(O),E=e("./ParseOp")},{"./ParseFile":14,"./ParseObject":18,"./ParseOp":19,"./ParsePromise":20,"./ParseRelation":22,"./TaskQueue":31,"./encode":36,"babel-runtime/helpers/interop-require-default":56}],10:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-default")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"],o=e("./decode"),s=n(o),a=e("./encode"),u=n(a),l=e("./CoreManager"),c=n(l),f=e("./InstallationController"),d=n(f),h=e("./ParseOp"),p=i(h),v=e("./RESTController"),y=n(v),m={initialize:function(e,t){c["default"].get("IS_NODE")&&console.log("It looks like you're using the browser version of the SDK in a node.js environment. You should require('parse/node') instead."),m._initialize(e,t)},_initialize:function(e,t,r){c["default"].set("APPLICATION_ID",e),c["default"].set("JAVASCRIPT_KEY",t),c["default"].set("MASTER_KEY",r),c["default"].set("USE_MASTER_KEY",!1)}};Object.defineProperty(m,"applicationId",{get:function(){return c["default"].get("APPLICATION_ID")},set:function(e){c["default"].set("APPLICATION_ID",e)}}),Object.defineProperty(m,"javaScriptKey",{get:function(){return c["default"].get("JAVASCRIPT_KEY")},set:function(e){c["default"].set("JAVASCRIPT_KEY",e)}}),Object.defineProperty(m,"masterKey",{get:function(){return c["default"].get("MASTER_KEY")},set:function(e){c["default"].set("MASTER_KEY",e)}}),Object.defineProperty(m,"serverURL",{get:function(){return c["default"].get("SERVER_URL")},set:function(e){c["default"].set("SERVER_URL",e)}}),Object.defineProperty(m,"liveQueryServerURL",{get:function(){return c["default"].get("LIVEQUERY_SERVER_URL")},set:function(e){c["default"].set("LIVEQUERY_SERVER_URL",e)}}),m.ACL=e("./ParseACL"),m.Analytics=e("./Analytics"),m.Cloud=e("./Cloud"),m.CoreManager=e("./CoreManager"),m.Config=e("./ParseConfig"),m.Error=e("./ParseError"),m.FacebookUtils=e("./FacebookUtils"),m.File=e("./ParseFile"),m.GeoPoint=e("./ParseGeoPoint"),m.Installation=e("./ParseInstallation"),m.Object=e("./ParseObject"),m.Op={Set:p.SetOp,Unset:p.UnsetOp,Increment:p.IncrementOp,Add:p.AddOp,Remove:p.RemoveOp,AddUnique:p.AddUniqueOp,Relation:p.RelationOp},m.Promise=e("./ParsePromise"),m.Push=e("./Push"),m.Query=e("./ParseQuery"),m.Relation=e("./ParseRelation"),m.Role=e("./ParseRole"),m.Session=e("./ParseSession"),m.Storage=e("./Storage"),m.User=e("./ParseUser"),m.LiveQuery=e("./ParseLiveQuery"),m.LiveQueryClient=e("./LiveQueryClient"),m._request=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return c["default"].getRESTController().request.apply(null,t)},m._ajax=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return c["default"].getRESTController().ajax.apply(null,t)},m._decode=function(e,t){return(0,s["default"])(t)},m._encode=function(e,t,r){return(0,u["default"])(e,r)},m._getInstallationId=function(){return c["default"].getInstallationController().currentInstallationId()},c["default"].setInstallationController(d["default"]),c["default"].setRESTController(y["default"]),m.Parse=m,t.exports=m},{"./Analytics":1,"./Cloud":2,"./CoreManager":3,"./FacebookUtils":5,"./InstallationController":6,"./LiveQueryClient":7,"./ParseACL":11,"./ParseConfig":12,"./ParseError":13,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseInstallation":16,"./ParseLiveQuery":17,"./ParseObject":18,"./ParseOp":19,"./ParsePromise":20,"./ParseQuery":21,"./ParseRelation":22,"./ParseRole":23,"./ParseSession":24,"./ParseUser":25,"./Push":26,"./RESTController":27,"./Storage":29,"./decode":35,"./encode":36,"babel-runtime/helpers/interop-require-default":56,"babel-runtime/helpers/interop-require-wildcard":57}],11:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/object/keys")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("./ParseRole"),u=s(a),l=e("./ParseUser"),c=s(l),f="*",d=function(){function e(t){if(i(this,e),this.permissionsById={},t&&"object"==typeof t)if(t instanceof c["default"])this.setReadAccess(t,!0),this.setWriteAccess(t,!0);else for(var r in t){var n=t[r];if("string"!=typeof r)throw new TypeError("Tried to create an ACL with an invalid user id.");this.permissionsById[r]={};for(var o in n){var s=n[o];if("read"!==o&&"write"!==o)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!=typeof s)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[r][o]=s}}else if("function"==typeof t)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}return n(e,[{key:"toJSON",value:function(){var e={};for(var t in this.permissionsById)e[t]=this.permissionsById[t];return e}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var r=o(this.permissionsById),n=o(t.permissionsById);if(r.length!==n.length)return!1;for(var i in this.permissionsById){if(!t.permissionsById[i])return!1;if(this.permissionsById[i].read!==t.permissionsById[i].read)return!1;if(this.permissionsById[i].write!==t.permissionsById[i].write)return!1}return!0}},{key:"_setAccess",value:function(e,t,r){if(t instanceof c["default"]?t=t.id:t instanceof u["default"]&&(t="role:"+t.getName()),"string"!=typeof t)throw new TypeError("userId must be a string.");if("boolean"!=typeof r)throw new TypeError("allowed must be either true or false.");var n=this.permissionsById[t];if(!n){if(!r)return;n={},this.permissionsById[t]=n}r?this.permissionsById[t][e]=!0:(delete n[e],0===o(n).length&&delete this.permissionsById[t])}},{key:"_getAccess",value:function(e,t){t instanceof c["default"]?t=t.id:t instanceof u["default"]&&(t="role:"+t.getName());var r=this.permissionsById[t];return r?!!r[e]:!1}},{key:"setReadAccess",value:function(e,t){this._setAccess("read",e,t)}},{key:"getReadAccess",value:function(e){return this._getAccess("read",e)}},{key:"setWriteAccess",value:function(e,t){this._setAccess("write",e,t)}},{key:"getWriteAccess",value:function(e){return this._getAccess("write",e)}},{key:"setPublicReadAccess",value:function(e){this.setReadAccess(f,e)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(f)}},{key:"setPublicWriteAccess",value:function(e){this.setWriteAccess(f,e)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(f)}},{key:"getRoleReadAccess",value:function(e){if(e instanceof u["default"]&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:"+e)}},{key:"getRoleWriteAccess",value:function(e){if(e instanceof u["default"]&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:"+e)}},{key:"setRoleReadAccess",value:function(e,t){if(e instanceof u["default"]&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:"+e,t)}},{key:"setRoleWriteAccess",value:function(e,t){if(e instanceof u["default"]&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:"+e,t)}}]),e}();r["default"]=d,t.exports=r["default"]},{"./ParseRole":23,"./ParseUser":25,"babel-runtime/core-js/object/keys":49,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],12:[function(e,t,r){"use strict";function n(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return(0,c["default"])(t)}catch(r){return null}}var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("./CoreManager"),u=s(a),l=e("./decode"),c=s(l),f=e("./encode"),d=(s(f),e("./escape")),h=s(d),p=e("./ParseError"),v=s(p),y=e("./ParsePromise"),m=s(y),b=e("./Storage"),g=s(b),_=function(){function e(){o(this,e),this.attributes={},this._escapedAttributes={}}return i(e,[{key:"get",value:function(e){return this.attributes[e]}},{key:"escape",value:function(e){var t=this._escapedAttributes[e];if(t)return t;var r=this.attributes[e],n="";return null!=r&&(n=(0,h["default"])(r.toString())),this._escapedAttributes[e]=n,n}}],[{key:"current",value:function(){var e=u["default"].getConfigController();return e.current()}},{key:"get",value:function(e){e=e||{};var t=u["default"].getConfigController();return t.get()._thenRunCallbacks(e)}}]),e}();r["default"]=_;var w=null,O="currentConfig";u["default"].setConfigController({current:function(){if(w)return w;var e,t=new _,r=g["default"].generatePath(O);if(!g["default"].async()){if(e=g["default"].getItem(r)){var i=n(e);i&&(t.attributes=i,w=t)}return t}return g["default"].getItemAsync(r).then(function(e){if(e){var r=n(e);r&&(t.attributes=r,w=t)}return t})},get:function(){var e=u["default"].getRESTController();return e.request("GET","config",{},{}).then(function(e){if(!e||!e.params){var t=new v["default"](v["default"].INVALID_JSON,"Config JSON response invalid.");return m["default"].error(t)}var r=new _;r.attributes={};for(var n in e.params)r.attributes[n]=(0,
c["default"])(e.params[n]);return w=r,g["default"].setItemAsync(g["default"].generatePath(O),JSON.stringify(e.params)).then(function(){return r})})}}),t.exports=r["default"]},{"./CoreManager":3,"./ParseError":13,"./ParsePromise":20,"./Storage":29,"./decode":35,"./encode":36,"./escape":38,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],13:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=function o(e,t){n(this,o),this.code=e,this.message=t};r["default"]=i,i.OTHER_CAUSE=-1,i.INTERNAL_SERVER_ERROR=1,i.CONNECTION_FAILED=100,i.OBJECT_NOT_FOUND=101,i.INVALID_QUERY=102,i.INVALID_CLASS_NAME=103,i.MISSING_OBJECT_ID=104,i.INVALID_KEY_NAME=105,i.INVALID_POINTER=106,i.INVALID_JSON=107,i.COMMAND_UNAVAILABLE=108,i.NOT_INITIALIZED=109,i.INCORRECT_TYPE=111,i.INVALID_CHANNEL_NAME=112,i.PUSH_MISCONFIGURED=115,i.OBJECT_TOO_LARGE=116,i.OPERATION_FORBIDDEN=119,i.CACHE_MISS=120,i.INVALID_NESTED_KEY=121,i.INVALID_FILE_NAME=122,i.INVALID_ACL=123,i.TIMEOUT=124,i.INVALID_EMAIL_ADDRESS=125,i.MISSING_CONTENT_TYPE=126,i.MISSING_CONTENT_LENGTH=127,i.INVALID_CONTENT_LENGTH=128,i.FILE_TOO_LARGE=129,i.FILE_SAVE_ERROR=130,i.DUPLICATE_VALUE=137,i.INVALID_ROLE_NAME=139,i.EXCEEDED_QUOTA=140,i.SCRIPT_FAILED=141,i.VALIDATION_ERROR=142,i.INVALID_IMAGE_DATA=143,i.UNSAVED_FILE_ERROR=151,i.INVALID_PUSH_TIME_ERROR=152,i.FILE_DELETE_ERROR=153,i.REQUEST_LIMIT_EXCEEDED=155,i.INVALID_EVENT_NAME=160,i.USERNAME_MISSING=200,i.PASSWORD_MISSING=201,i.USERNAME_TAKEN=202,i.EMAIL_TAKEN=203,i.EMAIL_MISSING=204,i.EMAIL_NOT_FOUND=205,i.SESSION_MISSING=206,i.MUST_CREATE_USER_THROUGH_SIGNUP=207,i.ACCOUNT_ALREADY_LINKED=208,i.INVALID_SESSION_TOKEN=209,i.LINKED_ID_MISSING=250,i.INVALID_LINKED_SESSION=251,i.UNSUPPORTED_SERVICE=252,i.AGGREGATE_ERROR=600,i.FILE_READ_ERROR=601,i.X_DOMAIN_REQUEST=602,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":52}],14:[function(e,t,r){"use strict";function n(e){if(26>e)return String.fromCharCode(65+e);if(52>e)return String.fromCharCode(97+(e-26));if(62>e)return String.fromCharCode(48+(e-52));if(62===e)return"+";if(63===e)return"/";throw new TypeError("Tried to encode large digit "+e+" in base64.")}var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("./CoreManager"),u=s(a),l=e("./ParsePromise"),c=(s(l),function(){function e(t,r,n){o(this,e);var i=n||"";if(this._name=t,Array.isArray(r))this._source={format:"base64",base64:e.encodeBase64(r),type:i};else if("undefined"!=typeof File&&r instanceof File)this._source={format:"file",file:r,type:i};else if(r&&r.hasOwnProperty("base64")){var s=r.base64.indexOf(",");if(-1!==s){var a=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,/.exec(r.base64.slice(0,s+1));this._source={format:"base64",base64:r.base64.slice(s+1),type:a[1]}}else this._source={format:"base64",base64:r.base64,type:i}}else if("undefined"!=typeof r)throw new TypeError("Cannot create a Parse.File with that data.")}return i(e,[{key:"name",value:function(){return this._name}},{key:"url",value:function(e){return e=e||{},this._url?e.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url:void 0}},{key:"save",value:function(e){var t=this;e=e||{};var r=u["default"].getFileController();return this._previousSave||("file"===this._source.format?this._previousSave=r.saveFile(this._name,this._source).then(function(e){return t._name=e.name,t._url=e.url,t}):this._previousSave=r.saveBase64(this._name,this._source).then(function(e){return t._name=e.name,t._url=e.url,t})),this._previousSave?this._previousSave._thenRunCallbacks(e):void 0}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url}}},{key:"equals",value:function(t){return this===t?!0:t instanceof e&&this.name()===t.name()&&this.url()===t.url()&&"undefined"!=typeof this.url()}}],[{key:"fromJSON",value:function(t){if("File"!==t.__type)throw new TypeError("JSON object does not represent a ParseFile");var r=new e(t.name);return r._url=t.url,r}},{key:"encodeBase64",value:function(e){var t=[];t.length=Math.ceil(e.length/3);for(var r=0;r<t.length;r++){var i=e[3*r],o=e[3*r+1]||0,s=e[3*r+2]||0,a=3*r+1<e.length,u=3*r+2<e.length;t[r]=[n(i>>2&63),n(i<<4&48|o>>4&15),a?n(o<<2&60|s>>6&3):"=",u?n(63&s):"="].join("")}return t.join("")}}]),e}());r["default"]=c,u["default"].setFileController({saveFile:function(e,t){if("file"!==t.format)throw new Error("saveFile can only be used with File-type sources.");var r={"X-Parse-Application-ID":u["default"].get("APPLICATION_ID"),"X-Parse-JavaScript-Key":u["default"].get("JAVASCRIPT_KEY")},n=u["default"].get("SERVER_URL");return"/"!==n[n.length-1]&&(n+="/"),n+="files/"+e,u["default"].getRESTController().ajax("POST",n,t.file,r)},saveBase64:function(e,t){if("base64"!==t.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var r={base64:t.base64};return t.type&&(r._ContentType=t.type),u["default"].getRESTController().request("POST","files/"+e,r)}}),t.exports=r["default"]},{"./CoreManager":3,"./ParsePromise":20,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],15:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=e("./ParsePromise"),a=o(s),u=function(){function e(t,r){i(this,e),Array.isArray(t)?(e._validate(t[0],t[1]),this._latitude=t[0],this._longitude=t[1]):"object"==typeof t?(e._validate(t.latitude,t.longitude),this._latitude=t.latitude,this._longitude=t.longitude):"number"==typeof t&&"number"==typeof r?(e._validate(t,r),this._latitude=t,this._longitude=r):(this._latitude=0,this._longitude=0)}return n(e,[{key:"toJSON",value:function(){return e._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(t){return t instanceof e&&this.latitude===t.latitude&&this.longitude===t.longitude}},{key:"radiansTo",value:function(e){var t=Math.PI/180,r=this.latitude*t,n=this.longitude*t,i=e.latitude*t,o=e.longitude*t,s=Math.sin((r-i)/2),a=Math.sin((n-o)/2),u=s*s+Math.cos(r)*Math.cos(i)*a*a;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))}},{key:"kilometersTo",value:function(e){return 6371*this.radiansTo(e)}},{key:"milesTo",value:function(e){return 3958.8*this.radiansTo(e)}},{key:"latitude",get:function(){return this._latitude},set:function(t){e._validate(t,this.longitude),this._latitude=t}},{key:"longitude",get:function(){return this._longitude},set:function(t){e._validate(this.latitude,t),this._longitude=t}}],[{key:"_validate",value:function(e,t){if(e!==e||t!==t)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(-90>e)throw new TypeError("GeoPoint latitude out of bounds: "+e+" < -90.0.");if(e>90)throw new TypeError("GeoPoint latitude out of bounds: "+e+" > 90.0.");if(-180>t)throw new TypeError("GeoPoint longitude out of bounds: "+t+" < -180.0.");if(t>180)throw new TypeError("GeoPoint longitude out of bounds: "+t+" > 180.0.")}},{key:"current",value:function(t){var r=new a["default"];return navigator.geolocation.getCurrentPosition(function(t){r.resolve(new e(t.coords.latitude,t.coords.longitude))},function(e){r.reject(e)}),r._thenRunCallbacks(t)}}]),e}();r["default"]=u,t.exports=r["default"]},{"./ParsePromise":20,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],16:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("./ParseObject"),u=s(a),l=function(e){function t(e){if(o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"_Installation"),e&&"object"==typeof e&&!this.set(e||{}))throw new Error("Can't create an invalid Session")}return i(t,e),t}(u["default"]);r["default"]=l,u["default"].registerSubclass("_Installation",l),t.exports=r["default"]},{"./ParseObject":18,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],17:[function(e,t,r){"use strict";function n(){var e=f["default"].getUserController();return e.currentUserAsync().then(function(e){return e?e.getSessionToken():void 0})}function i(){return f["default"].getLiveQueryController().getDefaultLiveQueryClient()}var o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=e("./EventEmitter"),a=o(s),u=e("./LiveQueryClient"),l=o(u),c=e("./CoreManager"),f=o(c),d=e("./ParsePromise"),h=o(d),p=new a["default"];p.open=function(){var e=f["default"].getLiveQueryController();e.open()},p.close=function(){var e=f["default"].getLiveQueryController();e.close()},p.on("error",function(){}),r["default"]=p;var v=void 0;f["default"].setLiveQueryController({setDefaultLiveQueryClient:function(e){v=e},getDefaultLiveQueryClient:function(){return v?h["default"].as(v):n().then(function(e){var t=f["default"].get("LIVEQUERY_SERVER_URL");if(t&&0!==t.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");if(!t){var r=f["default"].get("SERVER_URL"),n="ws://";0===r.indexOf("https")&&(n="wss://");var i=r.replace(/^https?:\/\//,"");t=n+i,f["default"].set("LIVEQUERY_SERVER_URL",t)}var o=f["default"].get("APPLICATION_ID"),s=f["default"].get("JAVASCRIPT_KEY"),a=f["default"].get("MASTER_KEY");return v=new l["default"]({applicationId:o,serverURL:t,javascriptKey:s,masterKey:a,sessionToken:e}),v.on("error",function(e){p.emit("error",e)}),v.on("open",function(){p.emit("open")}),v.on("close",function(){p.emit("close")}),v})},open:function(){var e=this;i().then(function(t){e.resolve(t.open())})},close:function(){var e=this;i().then(function(t){e.resolve(t.close())})},subscribe:function(e){var t=this,r=new a["default"];return i().then(function(i){i.shouldOpen()&&i.open();var o=n();return o.then(function(n){var o=i.subscribe(e,n);r.id=o.id,r.query=o.query,r.sessionToken=o.sessionToken,r.unsubscribe=o.unsubscribe,o.on("open",function(){r.emit("open")}),o.on("create",function(e){r.emit("create",e)}),o.on("update",function(e){r.emit("update",e)}),o.on("enter",function(e){r.emit("enter",e)}),o.on("leave",function(e){r.emit("leave",e)}),o.on("delete",function(e){r.emit("delete",e)}),t.resolve()})}),r},unsubscribe:function(e){var t=this;i().then(function(r){t.resolve(r.unsubscribe(e))})},_clearCachedDefaultClient:function(){v=null}}),t.exports=r["default"]},{"./CoreManager":3,"./EventEmitter":4,"./LiveQueryClient":7,"./ParsePromise":20,"babel-runtime/helpers/interop-require-default":56}],18:[function(e,t,r){"use strict";function n(){var e=h["default"].get("SERVER_URL");"/"!==e[e.length-1]&&(e+="/");var t=e.replace(/https?:\/\//,"");return t.substr(t.indexOf("/"))}var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/object/keys")["default"],a=e("babel-runtime/core-js/object/freeze")["default"],u=e("babel-runtime/core-js/object/create")["default"],l=e("babel-runtime/core-js/object/define-property")["default"],c=e("babel-runtime/helpers/interop-require-default")["default"],f=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var d=e("./CoreManager"),h=c(d),p=e("./canBeSerialized"),v=c(p),y=e("./decode"),m=c(y),b=e("./encode"),g=c(b),_=e("./equals"),w=(c(_),e("./escape")),O=c(w),C=e("./ParseACL"),E=c(C),S=e("./parseDate"),k=c(S),P=e("./ParseError"),A=c(P),j=e("./ParseFile"),I=c(j),T=e("./ParseOp"),N=e("./ParsePromise"),R=c(N),$=e("./ParseQuery"),M=c($),x=e("./ParseRelation"),D=c(x),L=e("./SingleInstanceStateController"),U=f(L),q=e("./unique"),F=c(q),K=e("./UniqueInstanceStateController"),J=f(K),Q=e("./unsavedChildren"),W=c(Q),B={},V=0,G=0,z=!h["default"].get("IS_NODE");z?h["default"].setObjectStateController(U):h["default"].setObjectStateController(J);var Y=function(){function e(t,r,n){o(this,e),"function"==typeof this.initialize&&this.initialize.apply(this,arguments);var i=null;if(this._objCount=G++,"string"==typeof t)this.className=t,r&&"object"==typeof r&&(i=r);else if(t&&"object"==typeof t){this.className=t.className,i={};for(var s in t)"className"!==s&&(i[s]=t[s]);r&&"object"==typeof r&&(n=r)}if(i&&!this.set(i,n))throw new Error("Can't create an invalid Parse Object")}return i(e,[{key:"_getId",value:function(){if("string"==typeof this.id)return this.id;if("string"==typeof this._localId)return this._localId;var e="local"+String(V++);return this._localId=e,e}},{key:"_getStateIdentifier",value:function(){if(z){var e=this.id;return e||(e=this._getId()),{id:e,className:this.className}}return this}},{key:"_getServerData",value:function(){var e=h["default"].getObjectStateController();return e.getServerData(this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var e=this._getServerData(),t={};for(var r in e)t[r]=void 0;var n=h["default"].getObjectStateController();n.setServerData(this._getStateIdentifier(),t)}},{key:"_getPendingOps",value:function(){var e=h["default"].getObjectStateController();return e.getPendingOps(this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(){var e=this._getPendingOps(),t=e[e.length-1],r=s(t);r.forEach(function(e){delete t[e]})}},{key:"_getDirtyObjectAttributes",value:function(){var t=this.attributes,r=h["default"].getObjectStateController(),n=r.getObjectCache(this._getStateIdentifier()),i={};for(var o in t){var s=t[o];if(s&&"object"==typeof s&&!(s instanceof e)&&!(s instanceof I["default"])&&!(s instanceof D["default"]))try{var a=(0,g["default"])(s,!1,!0),u=JSON.stringify(a);n[o]!==u&&(i[o]=s)}catch(l){i[o]=s}}return i}},{key:"_toFullJSON",value:function(e){var t=this.toJSON(e);return t.__type="Object",t.className=this.className,t}},{key:"_getSaveJSON",value:function(){var e,t=this._getPendingOps(),r=this._getDirtyObjectAttributes(),n={};for(e in r)n[e]=new T.SetOp(r[e]).toJSON();for(e in t[0])n[e]=t[0][e].toJSON();return n}},{key:"_getSaveParams",value:function(){var e=this.id?"PUT":"POST",t=this._getSaveJSON(),r="classes/"+this.className;return this.id?r+="/"+this.id:"_User"===this.className&&(r="users"),{method:e,body:t,path:r}}},{key:"_finishFetch",value:function(e){!this.id&&e.objectId&&(this.id=e.objectId);var t=h["default"].getObjectStateController();t.initializeState(this._getStateIdentifier());var r={};for(var n in e)"ACL"===n?r[n]=new E["default"](e[n]):"objectId"!==n&&(r[n]=(0,m["default"])(e[n]),r[n]instanceof D["default"]&&r[n]._ensureParentAndKey(this,n));r.createdAt&&"string"==typeof r.createdAt&&(r.createdAt=(0,k["default"])(r.createdAt)),r.updatedAt&&"string"==typeof r.updatedAt&&(r.updatedAt=(0,k["default"])(r.updatedAt)),!r.updatedAt&&r.createdAt&&(r.updatedAt=r.createdAt),t.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_setExisted",value:function(e){var t=h["default"].getObjectStateController(),r=t.getState(this._getStateIdentifier());r&&(r.existed=e)}},{key:"_migrateId",value:function(e){if(this._localId&&e)if(z){var t=h["default"].getObjectStateController(),r=t.removeState(this._getStateIdentifier());this.id=e,delete this._localId,r&&t.initializeState(this._getStateIdentifier(),r)}else this.id=e,delete this._localId}},{key:"_handleSaveResponse",value:function(e,t){var r,n={},i=h["default"].getObjectStateController(),o=i.popPendingState(this._getStateIdentifier());for(r in o)o[r]instanceof T.RelationOp?n[r]=o[r].applyTo(void 0,this,r):r in e||(n[r]=o[r].applyTo(void 0));for(r in e)"createdAt"!==r&&"updatedAt"!==r||"string"!=typeof e[r]?"ACL"===r?n[r]=new E["default"](e[r]):"objectId"!==r&&(n[r]=(0,m["default"])(e[r]),n[r]instanceof T.UnsetOp&&(n[r]=void 0)):n[r]=(0,k["default"])(e[r]);n.createdAt&&!n.updatedAt&&(n.updatedAt=n.createdAt),this._migrateId(e.objectId),201!==t&&this._setExisted(!0),i.commitServerChanges(this._getStateIdentifier(),n)}},{key:"_handleSaveError",value:function(){var e=(this._getPendingOps(),h["default"].getObjectStateController());e.mergeFirstPendingState(this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(e){var t=this.id?this.className+":"+this.id:this,e=e||[t],r={},n=this.attributes;for(var i in n)"createdAt"!==i&&"updatedAt"!==i||!n[i].toJSON?r[i]=(0,g["default"])(n[i],!1,!1,e):r[i]=n[i].toJSON();var o=this._getPendingOps();for(var i in o[0])r[i]=o[0][i].toJSON();return this.id&&(r.objectId=this.id),r}},{key:"equals",value:function(t){return this===t?!0:t instanceof e&&this.className===t.className&&this.id===t.id&&"undefined"!=typeof this.id}},{key:"dirty",value:function(e){if(!this.id)return!0;var t=this._getPendingOps(),r=this._getDirtyObjectAttributes();if(e){if(r.hasOwnProperty(e))return!0;for(var n=0;n<t.length;n++)if(t[n].hasOwnProperty(e))return!0;return!1}return 0!==s(t[0]).length?!0:0!==s(r).length?!0:!1}},{key:"dirtyKeys",value:function(){for(var e=this._getPendingOps(),t={},r=0;r<e.length;r++)for(var n in e[r])t[n]=!0;var i=this._getDirtyObjectAttributes();for(var n in i)t[n]=!0;return s(t)}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"get",value:function(e){return this.attributes[e]}},{key:"relation",value:function(e){var t=this.get(e);if(t){if(!(t instanceof D["default"]))throw new Error("Called relation() on non-relation field "+e);return t._ensureParentAndKey(this,e),t}return new D["default"](this,e)}},{key:"escape",value:function(e){var t=this.attributes[e];if(null==t)return"";if("string"!=typeof t){if("function"!=typeof t.toString)return"";t=t.toString()}return(0,O["default"])(t)}},{key:"has",value:function(e){var t=this.attributes;return t.hasOwnProperty(e)?null!=t[e]:!1}},{key:"set",value:function(e,t,r){var n={},i={};if(e&&"object"==typeof e)n=e,r=t;else{if("string"!=typeof e)return this;n[e]=t}r=r||{};var o=[];"function"==typeof this.constructor.readOnlyAttributes&&(o=o.concat(this.constructor.readOnlyAttributes()));for(var s in n)if("createdAt"!==s&&"updatedAt"!==s){if(o.indexOf(s)>-1)throw new Error("Cannot modify readonly attribute: "+s);r.unset?i[s]=new T.UnsetOp:n[s]instanceof T.Op?i[s]=n[s]:n[s]&&"object"==typeof n[s]&&"string"==typeof n[s].__op?i[s]=(0,T.opFromJSON)(n[s]):"objectId"===s||"id"===s?this.id=n[s]:"ACL"!==s||"object"!=typeof n[s]||n[s]instanceof E["default"]?i[s]=new T.SetOp(n[s]):i[s]=new T.SetOp(new E["default"](n[s]))}var a=this.attributes,u={};for(var l in i)i[l]instanceof T.RelationOp?u[l]=i[l].applyTo(a[l],this,l):i[l]instanceof T.UnsetOp||(u[l]=i[l].applyTo(a[l]));if(!r.ignoreValidation){var c=this.validate(u);if(c)return"function"==typeof r.error&&r.error(this,c),!1}var f=this._getPendingOps(),d=f.length-1,p=h["default"].getObjectStateController();for(var l in i){var v=i[l].mergeWith(f[d][l]);p.setPendingOp(this._getStateIdentifier(),l,v)}return this}},{key:"unset",value:function(e,t){return t=t||{},t.unset=!0,this.set(e,null,t)}},{key:"increment",value:function(e,t){if("undefined"==typeof t&&(t=1),"number"!=typeof t)throw new Error("Cannot increment by a non-numeric amount.");return this.set(e,new T.IncrementOp(t))}},{key:"add",value:function(e,t){return this.set(e,new T.AddOp([t]))}},{key:"addUnique",value:function(e,t){return this.set(e,new T.AddUniqueOp([t]))}},{key:"remove",value:function(e,t){return this.set(e,new T.RemoveOp([t]))}},{key:"op",value:function(e){for(var t=this._getPendingOps(),r=t.length;r--;)if(t[r][e])return t[r][e]}},{key:"clone",value:function t(){var t=new this.constructor;t.className||(t.className=this.className);var e=this.attributes;if("function"==typeof this.constructor.readOnlyAttributes){var r=this.constructor.readOnlyAttributes()||[],n={};for(var i in e)r.indexOf(i)<0&&(n[i]=e[i]);e=n}return t.set&&t.set(e),t}},{key:"newInstance",value:function(){var e=new this.constructor;if(e.className||(e.className=this.className),e.id=this.id,z)return e;var t=h["default"].getObjectStateController();return t.duplicateState(this._getStateIdentifier(),e._getStateIdentifier()),e}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var e=h["default"].getObjectStateController(),t=e.getState(this._getStateIdentifier());return t?t.existed:!1}},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(e){if(e.hasOwnProperty("ACL")&&!(e.ACL instanceof E["default"]))return new A["default"](A["default"].OTHER_CAUSE,"ACL must be a Parse ACL.");for(var t in e)if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(t))return new A["default"](A["default"].INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var e=this.get("ACL");return e instanceof E["default"]?e:null}},{key:"setACL",value:function(e,t){return this.set("ACL",e,t)}},{key:"revert",value:function(){this._clearPendingOps()}},{key:"clear",value:function(){var e=this.attributes,t={},r=["createdAt","updatedAt"];"function"==typeof this.constructor.readOnlyAttributes&&(r=r.concat(this.constructor.readOnlyAttributes()));for(var n in e)r.indexOf(n)<0&&(t[n]=!0);return this.set(t,{unset:!0})}},{key:"fetch",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken);var r=h["default"].getObjectController();return r.fetch(this,!0,t)._thenRunCallbacks(e)}},{key:"save",value:function(e,t,r){var n,i,o=this;if("object"==typeof e||"undefined"==typeof e?(n=e,"object"==typeof t&&(i=t)):(n={},n[e]=t,i=r),!i&&n&&(i={},"function"==typeof n.success&&(i.success=n.success,delete n.success),"function"==typeof n.error&&(i.error=n.error,delete n.error)),n){var s=this.validate(n);if(s)return i&&"function"==typeof i.error&&i.error(this,s),R["default"].error(s);this.set(n,i)}i=i||{};var a={};i.hasOwnProperty("useMasterKey")&&(a.useMasterKey=i.useMasterKey),i.hasOwnProperty("sessionToken")&&(a.sessionToken=i.sessionToken);var u=h["default"].getObjectController(),l=(0,W["default"])(this);return u.save(l,a).then(function(){return u.save(o,a)})._thenRunCallbacks(i,this)}},{key:"destroy",value:function(e){e=e||{};var t={};return e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),this.id?h["default"].getObjectController().destroy(this,t)._thenRunCallbacks(e):R["default"].as()._thenRunCallbacks(e)}},{key:"attributes",get:function(){var e=h["default"].getObjectStateController();return a(e.estimateAttributes(this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}}],[{key:"_clearAllState",value:function(){var e=h["default"].getObjectStateController();e.clearAllState()}},{key:"fetchAll",value:function(e,t){var t=t||{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),h["default"].getObjectController().fetch(e,!0,r)._thenRunCallbacks(t)}},{key:"fetchAllIfNeeded",value:function(e,t){var t=t||{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),h["default"].getObjectController().fetch(e,!1,r)._thenRunCallbacks(t)}},{key:"destroyAll",value:function(e,t){var t=t||{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),h["default"].getObjectController().destroy(e,r)._thenRunCallbacks(t)}},{key:"saveAll",value:function(e,t){var t=t||{},r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),h["default"].getObjectController().save(e,r)._thenRunCallbacks(t)}},{key:"createWithoutData",value:function(e){var t=new this;return t.id=e,t}},{key:"fromJSON",value:function(t,r){if(!t.className)throw new Error("Cannot create an object without a className");var n=B[t.className],i=n?new n:new e(t.className),o={};for(var s in t)"className"!==s&&"__type"!==s&&(o[s]=t[s]);if(r){o.objectId&&(i.id=o.objectId);var a=null;"function"==typeof i._preserveFieldsOnFetch&&(a=i._preserveFieldsOnFetch()),i._clearServerData(),a&&i._finishFetch(a)}return i._finishFetch(o),t.objectId&&i._setExisted(!0),i}},{key:"registerSubclass",value:function(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a valid class name.");if("undefined"==typeof t)throw new TypeError("You must supply a subclass constructor.");if("function"!=typeof t)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");B[e]=t,t.className||(t.className=e)}},{key:"extend",value:function(t,r,n){if("string"!=typeof t){if(t&&"string"==typeof t.className)return e.extend(t.className,t,r);throw new Error("Parse.Object.extend's first argument should be the className.")}var i=t;"User"===i&&h["default"].get("PERFORM_USER_REWRITE")&&(i="_User");var o=e.prototype;this.hasOwnProperty("__super__")&&this.__super__?o=this.prototype:B[i]&&(o=B[i].prototype);var s=function(e,t){if("function"==typeof this.initialize&&this.initialize.apply(this,arguments),this.className=i,this._objCount=G++,e&&"object"==typeof e&&!this.set(e||{},t))throw new Error("Can't create an invalid Parse Object")};if(s.className=i,s.__super__=o,s.prototype=u(o,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r)for(var a in r)"className"!==a&&l(s.prototype,a,{value:r[a],enumerable:!1,writable:!0,configurable:!0});if(n)for(var a in n)"className"!==a&&l(s,a,{value:n[a],enumerable:!1,writable:!0,configurable:!0});return s.extend=function(t,r,n){return"string"==typeof t?e.extend.call(s,t,r,n):e.extend.call(s,i,t,r)},s.createWithoutData=e.createWithoutData,B[i]=s,s}},{key:"enableSingleInstance",value:function(){z=!0,h["default"].setObjectStateController(U)}},{key:"disableSingleInstance",value:function(){z=!1,h["default"].setObjectStateController(J)}}]),e}();r["default"]=Y,h["default"].setObjectController({fetch:function(e,t,r){if(Array.isArray(e)){if(e.length<1)return R["default"].as([]);var n=[],i=[],o=null,a=[],u=null;if(e.forEach(function(e,r){u||(o||(o=e.className),o!==e.className&&(u=new A["default"](A["default"].INVALID_CLASS_NAME,"All objects should be of the same class")),e.id||(u=new A["default"](A["default"].MISSING_OBJECT_ID,"All objects must have an ID")),(t||0===s(e._getServerData()).length)&&(i.push(e.id),n.push(e)),a.push(e))}),u)return R["default"].error(u);var l=new M["default"](o);return l.containedIn("objectId",i),l._limit=i.length,l.find(r).then(function(e){var r={};e.forEach(function(e){r[e.id]=e});for(var i=0;i<n.length;i++){var o=n[i];if((!o||!o.id||!r[o.id])&&t)return R["default"].error(new A["default"](A["default"].OBJECT_NOT_FOUND,"All objects must exist on the server."))}if(!z)for(var i=0;i<a.length;i++){var o=a[i];if(o&&o.id&&r[o.id]){var s=o.id;o._finishFetch(r[s].toJSON()),a[i]=r[s]}}return R["default"].as(a)})}var c=h["default"].getRESTController();return c.request("GET","classes/"+e.className+"/"+e._getId(),{},r).then(function(t,r,n){return e instanceof Y&&(e._clearPendingOps(),e._clearServerData(),e._finishFetch(t)),e})},destroy:function(e,t){var r=h["default"].getRESTController();if(Array.isArray(e)){if(e.length<1)return R["default"].as([]);var i=[[]];e.forEach(function(e){e.id&&(i[i.length-1].push(e),i[i.length-1].length>=20&&i.push([]))}),0===i[i.length-1].length&&i.pop();var o=R["default"].as(),s=[];return i.forEach(function(e){o=o.then(function(){return r.request("POST","batch",{requests:e.map(function(e){return{method:"DELETE",path:n()+"classes/"+e.className+"/"+e._getId(),body:{}}})},t).then(function(t){for(var r=0;r<t.length;r++)if(t[r]&&t[r].hasOwnProperty("error")){var n=new A["default"](t[r].error.code,t[r].error.error);n.object=e[r],s.push(n)}})})}),o.then(function(){if(s.length){var t=new A["default"](A["default"].AGGREGATE_ERROR);return t.errors=s,R["default"].error(t)}return R["default"].as(e)})}return e instanceof Y?r.request("DELETE","classes/"+e.className+"/"+e._getId(),{},t).then(function(){return R["default"].as(e)}):R["default"].as(e)},save:function(e,t){var r=h["default"].getRESTController(),i=h["default"].getObjectStateController();if(Array.isArray(e)){if(e.length<1)return R["default"].as([]);for(var o=e.concat(),s=0;s<e.length;s++)e[s]instanceof Y&&(o=o.concat((0,W["default"])(e[s],!0)));o=(0,F["default"])(o);var a=R["default"].as(),u=[];return o.forEach(function(e){e instanceof I["default"]?a=a.then(function(){return e.save()}):e instanceof Y&&u.push(e)}),a.then(function(){var o=null;return R["default"]._continueWhile(function(){return u.length>0},function(){var e=[],s=[];if(u.forEach(function(t){e.length<20&&(0,v["default"])(t)?e.push(t):s.push(t)}),u=s,e.length<1)return R["default"].error(new A["default"](A["default"].OTHER_CAUSE,"Tried to save a batch with a cycle."));var a=new R["default"],l=[],c=[];return e.forEach(function(e,t){var r=new R["default"];l.push(r);var n=function(){return r.resolve(),a.then(function(r,n){if(r[t].hasOwnProperty("success"))e._handleSaveResponse(r[t].success,n);else{if(!o&&r[t].hasOwnProperty("error")){var i=r[t].error;o=new A["default"](i.code,i.error),u=[]}e._handleSaveError()}})};i.pushPendingState(e._getStateIdentifier()),c.push(i.enqueueTask(e._getStateIdentifier(),n))}),R["default"].when(l).then(function(){return r.request("POST","batch",{requests:e.map(function(e){var t=e._getSaveParams();return t.path=n()+t.path,t})},t)}).then(function(e,t,r){a.resolve(e,t)}),R["default"].when(c)}).then(function(){return o?R["default"].error(o):R["default"].as(e)})})}if(e instanceof Y){var l=e,c=function(){var e=l._getSaveParams();return r.request(e.method,e.path,e.body,t).then(function(e,t){l._handleSaveResponse(e,t)},function(e){return l._handleSaveError(),R["default"].error(e)})};return i.pushPendingState(e._getStateIdentifier()),i.enqueueTask(e._getStateIdentifier(),c).then(function(){return e},function(e){return R["default"].error(e)})}return R["default"].as()}}),t.exports=r["default"]},{"./CoreManager":3,"./ParseACL":11,"./ParseError":13,"./ParseFile":14,"./ParseOp":19,"./ParsePromise":20,"./ParseQuery":21,"./ParseRelation":22,"./SingleInstanceStateController":28,"./UniqueInstanceStateController":32,"./canBeSerialized":34,"./decode":35,"./encode":36,"./equals":37,"./escape":38,"./parseDate":40,"./unique":41,"./unsavedChildren":42,"babel-runtime/core-js/object/create":45,"babel-runtime/core-js/object/define-property":46,"babel-runtime/core-js/object/freeze":47,"babel-runtime/core-js/object/keys":49,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56,"babel-runtime/helpers/interop-require-wildcard":57}],19:[function(e,t,r){"use strict";function n(e){if(!e||!e.__op)return null;switch(e.__op){case"Delete":return new C;case"Increment":return new E(e.amount);case"Add":return new S((0,d["default"])(e.objects));case"AddUnique":return new k((0,d["default"])(e.objects));case"Remove":return new P((0,d["default"])(e.objects));case"AddRelation":var t=(0,d["default"])(e.objects);return Array.isArray(t)?new A(t,[]):new A([],[]);
case"RemoveRelation":var r=(0,d["default"])(e.objects);return Array.isArray(r)?new A([],r):new A([],[]);case"Batch":for(var t=[],r=[],n=0;n<e.ops.length;n++)"AddRelation"===e.ops[n].__op?t=t.concat((0,d["default"])(e.ops[n].objects)):"RemoveRelation"===e.ops[n].__op&&(r=r.concat((0,d["default"])(e.ops[n].objects)));return new A(t,r)}return null}var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/inherits")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.opFromJSON=n;var l=e("./arrayContainsObject"),c=u(l),f=e("./decode"),d=u(f),h=e("./encode"),p=u(h),v=e("./ParseObject"),y=u(v),m=e("./ParseRelation"),b=u(m),g=e("./unique"),_=u(g),w=function(){function e(){o(this,e)}return i(e,[{key:"applyTo",value:function(e){}},{key:"mergeWith",value:function(e){}},{key:"toJSON",value:function(){}}]),e}();r.Op=w;var O=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._value=e}return a(t,e),i(t,[{key:"applyTo",value:function(e){return this._value}},{key:"mergeWith",value:function(e){return new t(this._value)}},{key:"toJSON",value:function(){return(0,p["default"])(this._value,!1,!0)}}]),t}(w);r.SetOp=O;var C=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"applyTo",value:function(e){return void 0}},{key:"mergeWith",value:function(e){return new t}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),t}(w);r.UnsetOp=C;var E=function(e){function t(e){if(o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),"number"!=typeof e)throw new TypeError("Increment Op must be initialized with a numeric amount.");this._amount=e}return a(t,e),i(t,[{key:"applyTo",value:function(e){if("undefined"==typeof e)return this._amount;if("number"!=typeof e)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+e}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof C)return new O(this._amount);if(e instanceof t)return new t(this.applyTo(e._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),t}(w);r.IncrementOp=E;var S=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._value=Array.isArray(e)?e:[e]}return a(t,e),i(t,[{key:"applyTo",value:function(e){if(null==e)return this._value;if(Array.isArray(e))return e.concat(this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof C)return new O(this._value);if(e instanceof t)return new t(this.applyTo(e._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,p["default"])(this._value,!1,!0)}}}]),t}(w);r.AddOp=S;var k=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._value=(0,_["default"])(Array.isArray(e)?e:[e])}return a(t,e),i(t,[{key:"applyTo",value:function(e){if(null==e)return this._value||[];if(Array.isArray(e)){var t=e,r=[];return this._value.forEach(function(e){e instanceof y["default"]?(0,c["default"])(t,e)||r.push(e):t.indexOf(e)<0&&r.push(e)}),e.concat(r)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof C)return new O(this._value);if(e instanceof t)return new t(this.applyTo(e._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,p["default"])(this._value,!1,!0)}}}]),t}(w);r.AddUniqueOp=k;var P=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._value=(0,_["default"])(Array.isArray(e)?e:[e])}return a(t,e),i(t,[{key:"applyTo",value:function(e){if(null==e)return[];if(Array.isArray(e)){for(var t=e.indexOf(this._value),r=e.concat([]),t=0;t<this._value.length;t++){for(var n=r.indexOf(this._value[t]);n>-1;)r.splice(n,1),n=r.indexOf(this._value[t]);if(this._value[t]instanceof y["default"]&&this._value[t].id)for(var i=0;i<r.length;i++)r[i]instanceof y["default"]&&this._value[t].id===r[i].id&&(r.splice(i,1),i--)}return r}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof C)return new C;if(e instanceof t){for(var r=e._value.concat([]),n=0;n<this._value.length;n++)this._value[n]instanceof y["default"]?(0,c["default"])(r,this._value[n])||r.push(this._value[n]):r.indexOf(this._value[n])<0&&r.push(this._value[n]);return new t(r)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,p["default"])(this._value,!1,!0)}}}]),t}(w);r.RemoveOp=P;var A=function(e){function t(e,r){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._targetClassName=null,Array.isArray(e)&&(this.relationsToAdd=(0,_["default"])(e.map(this._extractId,this))),Array.isArray(r)&&(this.relationsToRemove=(0,_["default"])(r.map(this._extractId,this)))}return a(t,e),i(t,[{key:"_extractId",value:function(e){if("string"==typeof e)return e;if(!e.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=e.className),this._targetClassName!==e.className)throw new Error("Tried to create a Relation with 2 different object types: "+this._targetClassName+" and "+e.className+".");return e.id}},{key:"applyTo",value:function(e,t,r){if(!e){var n=new y["default"](t.className);t.id&&0===t.id.indexOf("local")?n._localId=t.id:t.id&&(n.id=t.id);var i=new b["default"](n,r);return i.targetClassName=this._targetClassName,i}if(e instanceof b["default"]){if(this._targetClassName)if(e.targetClassName){if(this._targetClassName!==e.targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof C)throw new Error("You cannot modify a relation after deleting it.");if(e instanceof t){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+(this._targetClassName||"null")+" was passed in.");var r=e.relationsToAdd.concat([]);this.relationsToRemove.forEach(function(e){var t=r.indexOf(e);t>-1&&r.splice(t,1)}),this.relationsToAdd.forEach(function(e){var t=r.indexOf(e);0>t&&r.push(e)});var n=e.relationsToRemove.concat([]);this.relationsToAdd.forEach(function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}),this.relationsToRemove.forEach(function(e){var t=n.indexOf(e);0>t&&n.push(e)});var i=new t(r,n);return i._targetClassName=this._targetClassName,i}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var e=this,t=function(t){return{__type:"Pointer",className:e._targetClassName,objectId:t}},r=null,n=null,i=null;return this.relationsToAdd.length>0&&(i=this.relationsToAdd.map(t),r={__op:"AddRelation",objects:i}),this.relationsToRemove.length>0&&(i=this.relationsToRemove.map(t),n={__op:"RemoveRelation",objects:i}),r&&n?{__op:"Batch",ops:[r,n]}:r||n||{}}}]),t}(w);r.RelationOp=A},{"./ParseObject":18,"./ParseRelation":22,"./arrayContainsObject":33,"./decode":35,"./encode":36,"./unique":41,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],20:[function(e,t,r){(function(n){"use strict";var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=!0,u=function(){function e(t){o(this,e),this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[],"function"==typeof t&&t(this.resolve.bind(this),this.reject.bind(this))}return i(e,[{key:"resolve",value:function(){if(this._resolved||this._rejected)throw new Error("A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".");this._resolved=!0;for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];this._result=t;for(var n=0;n<this._resolvedCallbacks.length;n++)this._resolvedCallbacks[n].apply(this,t);this._resolvedCallbacks=[],this._rejectedCallbacks=[]}},{key:"reject",value:function(e){if(this._resolved||this._rejected)throw new Error("A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".");this._rejected=!0,this._error=e;for(var t=0;t<this._rejectedCallbacks.length;t++)this._rejectedCallbacks[t](e);this._resolvedCallbacks=[],this._rejectedCallbacks=[]}},{key:"then",value:function(t,r){var i=this,o=new e,s=function(){for(var r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];if("function"==typeof t)if(a)try{n=[t.apply(this,n)]}catch(s){n=[e.error(s)]}else n=[t.apply(this,n)];1===n.length&&e.is(n[0])?n[0].then(function(){o.resolve.apply(o,arguments)},function(e){o.reject(e)}):o.resolve.apply(o,n)},u=function(t){var n=[];if("function"==typeof r){if(a)try{n=[r(t)]}catch(i){n=[e.error(i)]}else n=[r(t)];1===n.length&&e.is(n[0])?n[0].then(function(){o.resolve.apply(o,arguments)},function(e){o.reject(e)}):a?o.resolve.apply(o,n):o.reject(n[0])}else o.reject(t)},l=function(e){e.call()};return a&&("undefined"!=typeof n&&"function"==typeof n.nextTick?l=function(e){n.nextTick(e)}:"function"==typeof setTimeout&&(l=function(e){setTimeout(e,0)})),this._resolved?l(function(){s.apply(i,i._result)}):this._rejected?l(function(){u(i._error)}):(this._resolvedCallbacks.push(s),this._rejectedCallbacks.push(u)),o}},{key:"always",value:function(e){return this.then(e,e)}},{key:"done",value:function(e){return this.then(e)}},{key:"fail",value:function(e){return this.then(null,e)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_thenRunCallbacks",value:function(t,r){var n={};return"function"==typeof t?(n.success=function(e){t(e,null)},n.error=function(e){t(null,e)}):"object"==typeof t&&("function"==typeof t.success&&(n.success=t.success),"function"==typeof t.error&&(n.error=t.error)),this.then(function(){for(var t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];return n.success&&n.success.apply(this,r),e.as.apply(e,arguments)},function(t){return n.error&&("undefined"!=typeof r?n.error(r,t):n.error(t)),e.error(t)})}},{key:"_continueWith",value:function(e){return this.then(function(){return e(arguments,null)},function(t){return e(null,t)})}}],[{key:"is",value:function(e){return null!=e&&"function"==typeof e.then}},{key:"as",value:function(){for(var t=new e,r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];return t.resolve.apply(t,n),t}},{key:"resolve",value:function(t){return new e(function(r,n){e.is(t)?t.then(r,n):r(t)})}},{key:"error",value:function(){for(var t=new e,r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];return t.reject.apply(t,n),t}},{key:"reject",value:function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return e.error.apply(null,r)}},{key:"when",value:function(t){var r,n=Array.isArray(t);r=n?t:arguments;var i=r.length,o=!1,s=[],a=n?[s]:s,u=[];if(s.length=r.length,u.length=r.length,0===i)return e.as.apply(this,a);for(var l=new e,c=function(){i--,0>=i&&(o?l.reject(u):l.resolve.apply(l,a))},f=function(t,r){e.is(t)?t.then(function(e){s[r]=e,c()},function(e){u[r]=e,o=!0,c()}):(s[d]=t,c())},d=0;d<r.length;d++)f(r[d],d);return l}},{key:"all",value:function(t){var r=0,n=[],i=!0,o=!1,a=void 0;try{for(var u,l=s(t);!(i=(u=l.next()).done);i=!0){var c=u.value;n[r++]=c}}catch(f){o=!0,a=f}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw a}}if(0===r)return e.as([]);var d=!1,h=new e,p=0,v=[];return n.forEach(function(t,n){e.is(t)?t.then(function(e){return d?!1:(v[n]=e,p++,void(p>=r&&h.resolve(v)))},function(e){h.reject(e),d=!0}):(v[n]=t,p++,!d&&p>=r&&h.resolve(v))}),h}},{key:"race",value:function(t){var r=!1,n=new e,i=!0,o=!1,a=void 0;try{for(var u,l=s(t);!(i=(u=l.next()).done);i=!0){var c=u.value;e.is(c)?c.then(function(e){r||(r=!0,n.resolve(e))},function(e){r||(r=!0,n.reject(e))}):r||(r=!0,n.resolve(c))}}catch(f){o=!0,a=f}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw a}}return n}},{key:"_continueWhile",value:function(t,r){return t()?r().then(function(){return e._continueWhile(t,r)}):e.as()}},{key:"isPromisesAPlusCompliant",value:function(){return a}},{key:"enableAPlusCompliant",value:function(){a=!0}},{key:"disableAPlusCompliant",value:function(){a=!1}}]),e}();r["default"]=u,t.exports=r["default"]}).call(this,e("_process"))},{_process:58,"babel-runtime/core-js/get-iterator":43,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53}],21:[function(e,t,r){"use strict";function n(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"}var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("./CoreManager"),u=s(a),l=e("./encode"),c=s(l),f=e("./ParseError"),d=s(f),h=e("./ParseGeoPoint"),p=s(h),v=e("./ParseObject"),y=s(v),m=e("./ParsePromise"),b=s(m),g=function(){function e(t){if(o(this,e),"string"==typeof t)"User"===t&&u["default"].get("PERFORM_USER_REWRITE")?this.className="_User":this.className=t;else if(t instanceof y["default"])this.className=t.className;else{if("function"!=typeof t)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"==typeof t.className)this.className=t.className;else{var r=new t;this.className=r.className}}this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}}return i(e,[{key:"_orQuery",value:function(e){var t=e.map(function(e){return e.toJSON().where});return this._where.$or=t,this}},{key:"_addCondition",value:function(e,t,r){return this._where[e]&&"string"!=typeof this._where[e]||(this._where[e]={}),this._where[e][t]=(0,c["default"])(r,!1,!0),this}},{key:"toJSON",value:function(){var e={where:this._where};this._include.length&&(e.include=this._include.join(",")),this._select&&(e.keys=this._select.join(",")),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),this._order&&(e.order=this._order.join(","));for(var t in this._extraOptions)e[t]=this._extraOptions[t];return e}},{key:"get",value:function(e,t){this.equalTo("objectId",e);var r={};return t&&t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t&&t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),this.first(r).then(function(e){if(e)return e;var t=new d["default"](d["default"].OBJECT_NOT_FOUND,"Object not found.");return b["default"].error(t)})._thenRunCallbacks(t,null)}},{key:"find",value:function(e){var t=this;e=e||{};var r={};e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken);var n=u["default"].getQueryController();return n.find(this.className,this.toJSON(),r).then(function(e){return e.results.map(function(r){var n=e.className||t.className;return r.className||(r.className=n),y["default"].fromJSON(r,!0)})})._thenRunCallbacks(e)}},{key:"count",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken);var r=u["default"].getQueryController(),n=this.toJSON();return n.limit=0,n.count=1,r.find(this.className,n,t).then(function(e){return e.count})._thenRunCallbacks(e)}},{key:"first",value:function(e){var t=this;e=e||{};var r={};e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken);var n=u["default"].getQueryController(),i=this.toJSON();return i.limit=1,n.find(this.className,i,r).then(function(e){var r=e.results;return r[0]?(r[0].className||(r[0].className=t.className),y["default"].fromJSON(r[0],!0)):void 0})._thenRunCallbacks(e)}},{key:"each",value:function(t,r){if(r=r||{},this._order||this._skip||this._limit>=0)return b["default"].error("Cannot iterate on a query with sort, skip, or limit.")._thenRunCallbacks(r);var n=(new b["default"],new e(this.className));n._limit=r.batchSize||100,n._include=this._include.map(function(e){return e}),this._select&&(n._select=this._select.map(function(e){return e})),n._where={};for(var i in this._where){var o=this._where[i];if(Array.isArray(o))n._where[i]=o.map(function(e){return e});else if(o&&"object"==typeof o){var s={};n._where[i]=s;for(var a in o)s[a]=o[a]}else n._where[i]=o}n.ascending("objectId");var u={};r.hasOwnProperty("useMasterKey")&&(u.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(u.sessionToken=r.sessionToken);var l=!1;return b["default"]._continueWhile(function(){return!l},function(){return n.find(u).then(function(e){var r=b["default"].as();return e.forEach(function(e){r=r.then(function(){return t(e)})}),r.then(function(){e.length>=n._limit?n.greaterThan("objectId",e[e.length-1].id):l=!0})})})._thenRunCallbacks(r)}},{key:"equalTo",value:function(e,t){return"undefined"==typeof t?this.doesNotExist(e):(this._where[e]=(0,c["default"])(t,!1,!0),this)}},{key:"notEqualTo",value:function(e,t){return this._addCondition(e,"$ne",t)}},{key:"lessThan",value:function(e,t){return this._addCondition(e,"$lt",t)}},{key:"greaterThan",value:function(e,t){return this._addCondition(e,"$gt",t)}},{key:"lessThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$lte",t)}},{key:"greaterThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$gte",t)}},{key:"containedIn",value:function(e,t){return this._addCondition(e,"$in",t)}},{key:"notContainedIn",value:function(e,t){return this._addCondition(e,"$nin",t)}},{key:"containsAll",value:function(e,t){return this._addCondition(e,"$all",t)}},{key:"exists",value:function(e){return this._addCondition(e,"$exists",!0)}},{key:"doesNotExist",value:function(e){return this._addCondition(e,"$exists",!1)}},{key:"matches",value:function(e,t,r){return this._addCondition(e,"$regex",t),r||(r=""),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),r.length&&this._addCondition(e,"$options",r),this}},{key:"matchesQuery",value:function(e,t){var r=t.toJSON();return r.className=t.className,this._addCondition(e,"$inQuery",r)}},{key:"doesNotMatchQuery",value:function(e,t){var r=t.toJSON();return r.className=t.className,this._addCondition(e,"$notInQuery",r)}},{key:"matchesKeyInQuery",value:function(e,t,r){var n=r.toJSON();return n.className=r.className,this._addCondition(e,"$select",{key:t,query:n})}},{key:"doesNotMatchKeyInQuery",value:function(e,t,r){var n=r.toJSON();return n.className=r.className,this._addCondition(e,"$dontSelect",{key:t,query:n})}},{key:"contains",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",n(t))}},{key:"startsWith",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex","^"+n(t))}},{key:"endsWith",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",n(t)+"$")}},{key:"near",value:function(e,t){return t instanceof p["default"]||(t=new p["default"](t)),this._addCondition(e,"$nearSphere",t)}},{key:"withinRadians",value:function(e,t,r){return this.near(e,t),this._addCondition(e,"$maxDistance",r)}},{key:"withinMiles",value:function(e,t,r){return this.withinRadians(e,t,r/3958.8)}},{key:"withinKilometers",value:function(e,t,r){return this.withinRadians(e,t,r/6371)}},{key:"withinGeoBox",value:function(e,t,r){return t instanceof p["default"]||(t=new p["default"](t)),r instanceof p["default"]||(r=new p["default"](r)),this._addCondition(e,"$within",{$box:[t,r]}),this}},{key:"ascending",value:function(){this._order=[];for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return this.addAscending.apply(this,t)}},{key:"addAscending",value:function(){var e=this;this._order||(this._order=[]);for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)&&(t=t.join()),e._order=e._order.concat(t.replace(/\s/g,"").split(","))}),this}},{key:"descending",value:function(){this._order=[];for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return this.addDescending.apply(this,t)}},{key:"addDescending",value:function(){var e=this;this._order||(this._order=[]);for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)&&(t=t.join()),e._order=e._order.concat(t.replace(/\s/g,"").split(",").map(function(e){return"-"+e}))}),this}},{key:"skip",value:function(e){if("number"!=typeof e||0>e)throw new Error("You can only skip by a positive number");return this._skip=e,this}},{key:"limit",value:function(e){if("number"!=typeof e)throw new Error("You can only set the limit to a numeric value");return this._limit=e,this}},{key:"include",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this}},{key:"select",value:function(){var e=this;this._select||(this._select=[]);for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return r.forEach(function(t){Array.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this}},{key:"subscribe",value:function(){var e=u["default"].getLiveQueryController();return e.subscribe(this)}}],[{key:"or",value:function(){for(var t=null,r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];n.forEach(function(e){if(t||(t=e.className),t!==e.className)throw new Error("All queries must be for the same class.")});var o=new e(t);return o._orQuery(n),o}}]),e}();r["default"]=g,u["default"].setQueryController({find:function(e,t,r){var n=u["default"].getRESTController();return n.request("GET","classes/"+e,t,r)}}),t.exports=r["default"]},{"./CoreManager":3,"./ParseError":13,"./ParseGeoPoint":15,"./ParseObject":18,"./ParsePromise":20,"./encode":36,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],22:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=e("./ParseOp"),a=e("./ParseObject"),u=(o(a),e("./ParseQuery")),l=o(u),c=function(){function e(t,r){i(this,e),this.parent=t,this.key=r,this.targetClassName=null}return n(e,[{key:"_ensureParentAndKey",value:function(e,t){if(this.key=this.key||t,this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==e.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==e.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else e.id&&(this.parent=e)}else this.parent=e}},{key:"add",value:function(e){Array.isArray(e)||(e=[e]);var t=new s.RelationOp(e,[]);return this.parent.set(this.key,t),this.targetClassName=t._targetClassName,this.parent}},{key:"remove",value:function(e){Array.isArray(e)||(e=[e]);var t=new s.RelationOp([],e);this.parent.set(this.key,t),this.targetClassName=t._targetClassName}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function t(){var t;return this.targetClassName?t=new l["default"](this.targetClassName):(t=new l["default"](this.parent.className),t._extraOptions.redirectClassNameForKey=this.key),t._addCondition("$relatedTo","object",{__type:"Pointer",className:this.parent.className,objectId:this.parent.id}),t._addCondition("$relatedTo","key",this.key),t}}]),e}();r["default"]=c,t.exports=r["default"]},{"./ParseObject":18,"./ParseOp":19,"./ParseQuery":21,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],23:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./ParseACL"),l=a(u),c=e("./ParseError"),f=a(c),d=e("./ParseObject"),h=a(d),p=function(e){function t(e,r){s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"_Role"),"string"==typeof e&&r instanceof l["default"]&&(this.setName(e),this.setACL(r))}return i(t,e),o(t,[{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(e,t){return this.set("name",e,t)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(e,r){var i=n(Object.getPrototypeOf(t.prototype),"validate",this).call(this,e,r);if(i)return i;if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new f["default"](f["default"].OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!=typeof o)return new f["default"](f["default"].OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new f["default"](f["default"].OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),t}(h["default"]);r["default"]=p,h["default"].registerSubclass("_Role",p),t.exports=r["default"]},{"./ParseACL":11,"./ParseError":13,"./ParseObject":18,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],24:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./CoreManager"),l=a(u),c=e("./isRevocableSession"),f=a(c),d=e("./ParseObject"),h=a(d),p=e("./ParsePromise"),v=a(p),y=e("./ParseUser"),m=a(y),b=function(e){function t(e){if(s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"_Session"),e&&"object"==typeof e&&!this.set(e||{}))throw new Error("Can't create an invalid Session")}return i(t,e),o(t,[{key:"getSessionToken",value:function(){return this.get("sessionToken")}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(e){e=e||{};var t=l["default"].getSessionController(),r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),m["default"].currentAsync().then(function(e){if(!e)return v["default"].error("There is no current user.");e.getSessionToken();return r.sessionToken=e.getSessionToken(),t.getSession(r)})}},{key:"isCurrentSessionRevocable",value:function(){var e=m["default"].current();return e?(0,f["default"])(e.getSessionToken()||""):!1}}]),t}(h["default"]);r["default"]=b,h["default"].registerSubclass("_Session",b),l["default"].setSessionController({getSession:function(e){var t=l["default"].getRESTController(),r=new b;return t.request("GET","sessions/me",{},e).then(function(e){return r._finishFetch(e),r._setExisted(!0),r})}}),t.exports=r["default"]},{"./CoreManager":3,"./ParseObject":18,"./ParsePromise":20,"./ParseUser":25,"./isRevocableSession":39,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],25:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/define-property")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./CoreManager"),c=u(l),f=e("./isRevocableSession"),d=u(f),h=e("./ParseError"),p=u(h),v=e("./ParseObject"),y=u(v),m=e("./ParsePromise"),b=u(m),g=e("./ParseSession"),_=u(g),w=e("./Storage"),O=u(w),C="currentUser",E=!c["default"].get("IS_NODE"),S=!1,k=null,P={},A=function(e){function t(e){if(s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"_User"),e&&"object"==typeof e&&!this.set(e||{}))throw new Error("Can't create an invalid Parse User")}return i(t,e),o(t,[{key:"_upgradeToRevocableSession",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey);var r=c["default"].getUserController();return r.upgradeToRevocableSession(this,t)._thenRunCallbacks(e)}},{key:"_linkWith",value:function(e,t){var r,n=this;if("string"==typeof e?(r=e,e=P[e]):r=e.getAuthType(),t&&t.hasOwnProperty("authData")){var i=this.get("authData")||{};i[r]=t.authData;var o=c["default"].getUserController();return o.linkWith(this,i)._thenRunCallbacks(t,this)}var s=new b["default"];return e.authenticate({success:function(e,r){var i={};i.authData=r,t.success&&(i.success=t.success),t.error&&(i.error=t.error),n._linkWith(e,i).then(function(){s.resolve(n)},function(e){s.reject(e)})},error:function(e,r){t.error&&t.error(n,r),s.reject(r)}}),s}},{key:"_synchronizeAuthData",value:function(e){if(this.isCurrent()&&e){var t;"string"==typeof e?(t=e,e=P[t]):t=e.getAuthType();var r=this.get("authData");if(e&&"object"==typeof r){var n=e.restoreAuthentication(r[t]);n||this._unlinkFrom(e)}}}},{key:"_synchronizeAllAuthData",value:function(){var e=this.get("authData");if("object"==typeof e)for(var t in e)this._synchronizeAuthData(t)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var e=this.get("authData");if("object"==typeof e)for(var t in e)e[t]||delete e[t]}}},{key:"_unlinkFrom",value:function(e,t){var r,n=this;return"string"==typeof e?(r=e,e=P[e]):r=e.getAuthType(),this._linkWith(e,{authData:null}).then(function(){return n._synchronizeAuthData(e),b["default"].as(n)})._thenRunCallbacks(t)}},{key:"_isLinked",value:function(e){var t;t="string"==typeof e?e:e.getAuthType();var r=this.get("authData")||{};return!!r[t]}},{key:"_logOutWithAll",value:function(){var e=this.get("authData");if("object"==typeof e)for(var t in e)this._logOutWith(t)}},{key:"_logOutWith",value:function(e){this.isCurrent()&&("string"==typeof e&&(e=P[e]),e&&e.deauthenticate&&e.deauthenticate())}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var e=t.current();
return!!e&&e.id===this.id}},{key:"getUsername",value:function(){return this.get("username")}},{key:"setUsername",value:function(e){var t=this.get("authData");t&&t.hasOwnProperty("anonymous")&&(t.anonymous=null),this.set("username",e)}},{key:"setPassword",value:function(e){this.set("password",e)}},{key:"getEmail",value:function(){return this.get("email")}},{key:"setEmail",value:function(e){this.set("email",e)}},{key:"getSessionToken",value:function(){return this.get("sessionToken")}},{key:"authenticated",value:function(){var e=t.current();return!!this.get("sessionToken")&&!!e&&e.id===this.id}},{key:"signUp",value:function(e,t){t=t||{};var r={};t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(r.installationId=t.installationId);var n=c["default"].getUserController();return n.signUp(this,e,r)._thenRunCallbacks(t,this)}},{key:"logIn",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(t.installationId=e.installationId);var r=c["default"].getUserController();return r.logIn(this,t)._thenRunCallbacks(e,this)}},{key:"save",value:function(){for(var e=this,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return n(Object.getPrototypeOf(t.prototype),"save",this).apply(this,i).then(function(){return e.isCurrent()?c["default"].getUserController().updateUserOnDisk(e):e})}},{key:"destroy",value:function(){for(var e=this,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return n(Object.getPrototypeOf(t.prototype),"destroy",this).apply(this,i).then(function(){return e.isCurrent()?c["default"].getUserController().removeUserFromDisk():e})}},{key:"fetch",value:function(){for(var e=this,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return n(Object.getPrototypeOf(t.prototype),"fetch",this).apply(this,i).then(function(){return e.isCurrent()?c["default"].getUserController().updateUserOnDisk(e):e})}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(e,r){if(e)for(var n in e)"className"!==n&&a(t.prototype,n,{value:e[n],enumerable:!1,writable:!0,configurable:!0});if(r)for(var n in r)"className"!==n&&a(t,n,{value:r[n],enumerable:!1,writable:!0,configurable:!0});return t}},{key:"current",value:function(){if(!E)return null;var e=c["default"].getUserController();return e.currentUser()}},{key:"currentAsync",value:function(){if(!E)return b["default"].as(null);var e=c["default"].getUserController();return e.currentUserAsync()}},{key:"signUp",value:function(e,r,n,i){n=n||{},n.username=e,n.password=r;var o=new t(n);return o.signUp({},i)}},{key:"logIn",value:function(e,r,n){if("string"!=typeof e)return b["default"].error(new p["default"](p["default"].OTHER_CAUSE,"Username must be a string."));if("string"!=typeof r)return b["default"].error(new p["default"](p["default"].OTHER_CAUSE,"Password must be a string."));var i=new t;return i._finishFetch({username:e,password:r}),i.logIn(n)}},{key:"become",value:function(e,t){if(!E)throw new Error("It is not memory-safe to become a user in a server environment");t=t||{};var r={sessionToken:e};t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey);var n=c["default"].getUserController();return n.become(r)._thenRunCallbacks(t)}},{key:"logInWith",value:function(e,r){return t._logInWith(e,r)}},{key:"logOut",value:function(){if(!E)throw new Error("There is no current user user on a node.js server environment.");var e=c["default"].getUserController();return e.logOut()}},{key:"requestPasswordReset",value:function(e,t){t=t||{};var r={};t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey);var n=c["default"].getUserController();return n.requestPasswordReset(e,r)._thenRunCallbacks(t)}},{key:"allowCustomUserClass",value:function(e){c["default"].set("PERFORM_USER_REWRITE",!e)}},{key:"enableRevocableSession",value:function(e){if(e=e||{},c["default"].set("FORCE_REVOCABLE_SESSION",!0),E){var r=t.current();if(r)return r._upgradeToRevocableSession(e)}return b["default"].as()._thenRunCallbacks(e)}},{key:"enableUnsafeCurrentUser",value:function(){E=!0}},{key:"disableUnsafeCurrentUser",value:function(){E=!1}},{key:"_registerAuthenticationProvider",value:function(e){P[e.getAuthType()]=e,t.currentAsync().then(function(t){t&&t._synchronizeAuthData(e.getAuthType())})}},{key:"_logInWith",value:function(e,r){var n=new t;return n._linkWith(e,r)}},{key:"_clearCache",value:function(){k=null,S=!1}},{key:"_setCurrentUserCache",value:function(e){k=e}}]),t}(y["default"]);r["default"]=A,y["default"].registerSubclass("_User",A);var j={updateUserOnDisk:function(e){var t=O["default"].generatePath(C),r=e.toJSON();return r.className="_User",O["default"].setItemAsync(t,JSON.stringify(r)).then(function(){return e})},removeUserFromDisk:function(){var e=O["default"].generatePath(C);return S=!0,k=null,O["default"].removeItemAsync(e)},setCurrentUser:function(e){return k=e,e._cleanupAuthData(),e._synchronizeAllAuthData(),j.updateUserOnDisk(e)},currentUser:function(){if(k)return k;if(S)return null;if(O["default"].async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var e=O["default"].generatePath(C),t=O["default"].getItem(e);if(S=!0,!t)return k=null,null;t=JSON.parse(t),t.className||(t.className="_User"),t._id&&(t.objectId!==t._id&&(t.objectId=t._id),delete t._id),t._sessionToken&&(t.sessionToken=t._sessionToken,delete t._sessionToken);var r=y["default"].fromJSON(t);return k=r,r._synchronizeAllAuthData(),r},currentUserAsync:function(){if(k)return b["default"].as(k);if(S)return b["default"].as(null);var e=O["default"].generatePath(C);return O["default"].getItemAsync(e).then(function(e){if(S=!0,!e)return k=null,b["default"].as(null);e=JSON.parse(e),e.className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);var t=y["default"].fromJSON(e);return k=t,t._synchronizeAllAuthData(),b["default"].as(t)})},signUp:function(e,t,r){var n=t&&t.username||e.get("username"),i=t&&t.password||e.get("password");return n&&n.length?i&&i.length?e.save(t,r).then(function(){return e._finishFetch({password:void 0}),E?j.setCurrentUser(e):e}):b["default"].error(new p["default"](p["default"].OTHER_CAUSE,"Cannot sign up user with an empty password.")):b["default"].error(new p["default"](p["default"].OTHER_CAUSE,"Cannot sign up user with an empty name."))},logIn:function(e,t){var r=c["default"].getRESTController(),n=c["default"].getObjectStateController(),i={username:e.get("username"),password:e.get("password")};return r.request("GET","login",i,t).then(function(t,r){return e._migrateId(t.objectId),e._setExisted(!0),n.setPendingOp(e._getStateIdentifier(),"username",void 0),n.setPendingOp(e._getStateIdentifier(),"password",void 0),t.password=void 0,e._finishFetch(t),E?j.setCurrentUser(e):b["default"].as(e)})},become:function(e){var t=new A,r=c["default"].getRESTController();return r.request("GET","users/me",{},e).then(function(e,r){return t._finishFetch(e),t._setExisted(!0),j.setCurrentUser(t)})},logOut:function(){return j.currentUserAsync().then(function(e){var t=O["default"].generatePath(C),r=O["default"].removeItemAsync(t),n=c["default"].getRESTController();if(null!==e){var i=e.getSessionToken();i&&(0,d["default"])(i)&&(r=r.then(function(){return n.request("POST","logout",{},{sessionToken:i})})),e._logOutWithAll(),e._finishFetch({sessionToken:void 0})}return S=!0,k=null,r})},requestPasswordReset:function(e,t){var r=c["default"].getRESTController();return r.request("POST","requestPasswordReset",{email:e},t)},upgradeToRevocableSession:function(e,t){var r=e.getSessionToken();if(!r)return b["default"].error(new p["default"](p["default"].SESSION_MISSING,"Cannot upgrade a user with no session token"));t.sessionToken=r;var n=c["default"].getRESTController();return n.request("POST","upgradeToRevocableSession",{},t).then(function(t){var r=new _["default"];return r._finishFetch(t),e._finishFetch({sessionToken:r.getSessionToken()}),e.isCurrent()?j.setCurrentUser(e):b["default"].as(e)})},linkWith:function(e,t){return e.save({authData:t}).then(function(){return E?j.setCurrentUser(e):e})}};c["default"].setUserController(j),t.exports=r["default"]},{"./CoreManager":3,"./ParseError":13,"./ParseObject":18,"./ParsePromise":20,"./ParseSession":24,"./Storage":29,"./isRevocableSession":39,"babel-runtime/core-js/object/define-property":46,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/get":54,"babel-runtime/helpers/inherits":55,"babel-runtime/helpers/interop-require-default":56}],26:[function(e,t,r){"use strict";function n(e,t){if(t=t||{},e.where&&e.where instanceof u["default"]&&(e.where=e.where.toJSON().where),e.push_time&&"object"==typeof e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&"object"==typeof e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return s["default"].getPushController().send(e,{useMasterKey:t.useMasterKey})._thenRunCallbacks(t)}var i=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.send=n;var o=e("./CoreManager"),s=i(o),a=e("./ParseQuery"),u=i(a);s["default"].setPushController({send:function(e,t){var r=s["default"].getRESTController(),n=r.request("POST","push",e,{useMasterKey:!!t.useMasterKey});return n._thenRunCallbacks(t)}})},{"./CoreManager":3,"./ParseQuery":21,"babel-runtime/helpers/interop-require-default":56}],27:[function(e,t,r){(function(n){"use strict";function i(e,t,r){var n=new f["default"],i=new XDomainRequest;return i.onload=function(){var e;try{e=JSON.parse(i.responseText)}catch(t){n.reject(t)}e&&n.resolve(e)},i.onerror=i.ontimeout=function(){var e={responseText:JSON.stringify({code:l["default"].X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};n.reject(e)},i.onprogress=function(){},i.open(e,t),i.send(r),n}var o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=e("./CoreManager"),a=o(s),u=e("./ParseError"),l=o(u),c=e("./ParsePromise"),f=o(c),d=e("./Storage"),h=(o(d),null);"undefined"!=typeof XMLHttpRequest&&(h=XMLHttpRequest);var p=!1;"undefined"==typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(p=!0);var v={ajax:function(e,t,r,o){if(p)return i(e,t,r,o);var s=new f["default"],u=0,l=function c(){if(null==h)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var i=!1,l=new h;l.onreadystatechange=function(){if(4===l.readyState&&!i)if(i=!0,l.status>=200&&l.status<300){var e;try{e=JSON.parse(l.responseText)}catch(t){s.reject(t.toString())}e&&s.resolve(e,l.status,l)}else if(l.status>=500||0===l.status)if(++u<a["default"].get("REQUEST_ATTEMPT_LIMIT")){var r=Math.round(125*Math.random()*Math.pow(2,u));setTimeout(c,r)}else 0===l.status?s.reject("Unable to connect to the Parse API"):s.reject(l);else s.reject(l)},o=o||{},o["Content-Type"]="text/plain",a["default"].get("IS_NODE")&&(o["User-Agent"]="Parse/"+a["default"].get("VERSION")+" (NodeJS "+n.versions.node+")"),l.open(e,t,!0);for(var f in o)l.setRequestHeader(f,o[f]);l.send(r)};return l(),s},request:function(e,t,r,n){n=n||{};var i=a["default"].get("SERVER_URL");"/"!==i[i.length-1]&&(i+="/"),i+=t;var o={};if(r&&"object"==typeof r)for(var s in r)o[s]=r[s];"POST"!==e&&(o._method=e,e="POST"),o._ApplicationId=a["default"].get("APPLICATION_ID");var u=a["default"].get("JAVASCRIPT_KEY");u&&(o._JavaScriptKey=u),o._ClientVersion=a["default"].get("VERSION");var c=n.useMasterKey;if("undefined"==typeof c&&(c=a["default"].get("USE_MASTER_KEY")),c){if(!a["default"].get("MASTER_KEY"))throw new Error("Cannot use the Master Key, it has not been provided.");delete o._JavaScriptKey,o._MasterKey=a["default"].get("MASTER_KEY")}a["default"].get("FORCE_REVOCABLE_SESSION")&&(o._RevocableSession="1");var d,h=n.installationId;if(h&&"string"==typeof h)d=f["default"].as(h);else{var p=a["default"].getInstallationController();d=p.currentInstallationId()}return d.then(function(e){o._InstallationId=e;var t=a["default"].getUserController();return n&&"string"==typeof n.sessionToken?f["default"].as(n.sessionToken):t?t.currentUserAsync().then(function(e){return e?f["default"].as(e.getSessionToken()):f["default"].as(null)}):f["default"].as(null)}).then(function(t){t&&(o._SessionToken=t);var r=JSON.stringify(o);return v.ajax(e,i,r)}).then(null,function(e){var t;if(e&&e.responseText)try{var r=JSON.parse(e.responseText);t=new l["default"](r.code,r.error)}catch(n){t=new l["default"](l["default"].INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else t=new l["default"](l["default"].CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e));return f["default"].error(t)})},_setXHR:function(e){h=e}};t.exports=v}).call(this,e("_process"))},{"./CoreManager":3,"./ParseError":13,"./ParsePromise":20,"./Storage":29,_process:58,"babel-runtime/helpers/interop-require-default":56}],28:[function(e,t,r){"use strict";function n(e){var t=O[e.className];return t?t[e.id]||null:null}function i(e,t){var r=n(e);return r?r:(O[e.className]||(O[e.className]={}),t||(t=w.defaultState()),r=O[e.className][e.id]=t)}function o(e){var t=n(e);return null===t?null:(delete O[e.className][e.id],t)}function s(e){var t=n(e);return t?t.serverData:{}}function a(e,t){var r=i(e).serverData;w.setServerData(r,t)}function u(e){var t=n(e);return t?t.pendingOps:[{}]}function l(e,t,r){var n=i(e).pendingOps;w.setPendingOp(n,t,r)}function c(e){var t=i(e).pendingOps;w.pushPendingState(t)}function f(e){var t=i(e).pendingOps;return w.popPendingState(t)}function d(e){var t=u(e);w.mergeFirstPendingState(t)}function h(e){var t=n(e);return t?t.objectCache:{}}function p(e,t){var r=s(e),n=u(e);return w.estimateAttribute(r,n,e.className,e.id,t)}function v(e){var t=s(e),r=u(e);return w.estimateAttributes(t,r,e.className,e.id)}function y(e,t){var r=i(e);w.commitServerChanges(r.serverData,r.objectCache,t)}function m(e,t){var r=i(e);return r.tasks.enqueue(t)}function b(){O={}}var g=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.getState=n,r.initializeState=i,r.removeState=o,r.getServerData=s,r.setServerData=a,r.getPendingOps=u,r.setPendingOp=l,r.pushPendingState=c,r.popPendingState=f,r.mergeFirstPendingState=d,r.getObjectCache=h,r.estimateAttribute=p,r.estimateAttributes=v,r.commitServerChanges=y,r.enqueueTask=m,r.clearAllState=b;var _=e("./ObjectStateMutations"),w=g(_),O={}},{"./ObjectStateMutations":9,"babel-runtime/helpers/interop-require-wildcard":57}],29:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-default")["default"],i=e("./CoreManager"),o=n(i),s=e("./ParsePromise"),a=n(s);t.exports={async:function(){var e=o["default"].getStorageController();return!!e.async},getItem:function(e){var t=o["default"].getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.getItem(e)},getItemAsync:function(e){var t=o["default"].getStorageController();return 1===t.async?t.getItemAsync(e):a["default"].as(t.getItem(e))},setItem:function(e,t){var r=o["default"].getStorageController();if(1===r.async)throw new Error("Synchronous storage is not supported by the current storage controller");return r.setItem(e,t)},setItemAsync:function(e,t){var r=o["default"].getStorageController();return 1===r.async?r.setItemAsync(e,t):a["default"].as(r.setItem(e,t))},removeItem:function(e){var t=o["default"].getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.removeItem(e)},removeItemAsync:function(e){var t=o["default"].getStorageController();return 1===t.async?t.removeItemAsync(e):a["default"].as(t.removeItem(e))},generatePath:function(e){if(!o["default"].get("APPLICATION_ID"))throw new Error("You need to call Parse.initialize before using Parse.");if("string"!=typeof e)throw new Error("Tried to get a Storage path that was not a String.");return"/"===e[0]&&(e=e.substr(1)),"Parse/"+o["default"].get("APPLICATION_ID")+"/"+e},_clear:function(){var e=o["default"].getStorageController();e.hasOwnProperty("clear")&&e.clear()}},o["default"].setStorageController(e("./StorageController.browser"))},{"./CoreManager":3,"./ParsePromise":20,"./StorageController.browser":30,"babel-runtime/helpers/interop-require-default":56}],30:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-default")["default"],i=e("./ParsePromise");n(i);t.exports={async:0,getItem:function(e){return localStorage.getItem(e)},setItem:function(e,t){try{localStorage.setItem(e,t)}catch(r){}},removeItem:function(e){localStorage.removeItem(e)},clear:function(){localStorage.clear()}}},{"./ParsePromise":20,"babel-runtime/helpers/interop-require-default":56}],31:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"],s=e("./ParsePromise"),a=o(s);t.exports=function(){function e(){i(this,e),this.queue=[]}return n(e,[{key:"enqueue",value:function(e){var t=this,r=new a["default"];return this.queue.push({task:e,_completion:r}),1===this.queue.length&&e().then(function(){t._dequeue(),r.resolve()},function(e){t._dequeue(),r.reject(e)}),r}},{key:"_dequeue",value:function(){var e=this;if(this.queue.shift(),this.queue.length){var t=this.queue[0];t.task().then(function(){e._dequeue(),t._completion.resolve()},function(r){e._dequeue(),t._completion.reject(r)})}}}]),e}()},{"./ParsePromise":20,"babel-runtime/helpers/class-call-check":52,"babel-runtime/helpers/create-class":53,"babel-runtime/helpers/interop-require-default":56}],32:[function(e,t,r){"use strict";function n(e){var t=P.get(e);return t||null}function i(e,t){var r=n(e);return r?r:(t||(t={serverData:{},pendingOps:[{}],objectCache:{},tasks:new k["default"],existed:!1}),r=t,P.set(e,r),r)}function o(e){var t=n(e);return null===t?null:(P["delete"](e),t)}function s(e){var t=n(e);return t?t.serverData:{}}function a(e,t){var r=i(e).serverData;E.setServerData(r,t)}function u(e){var t=n(e);return t?t.pendingOps:[{}]}function l(e,t,r){var n=i(e).pendingOps;E.setPendingOp(n,t,r)}function c(e){var t=i(e).pendingOps;E.pushPendingState(t)}function f(e){var t=i(e).pendingOps;return E.popPendingState(t)}function d(e){var t=u(e);E.mergeFirstPendingState(t)}function h(e){var t=n(e);return t?t.objectCache:{}}function p(e,t){var r=s(e),n=u(e);return E.estimateAttribute(r,n,e.className,e.id,t)}function v(e){var t=s(e),r=u(e);return E.estimateAttributes(t,r,e.className,e.id)}function y(e,t){var r=i(e);E.commitServerChanges(r.serverData,r.objectCache,t)}function m(e,t){var r=i(e);return r.tasks.enqueue(t)}function b(e,t){var r=i(e),n=i(t);for(var o in r.serverData)n.serverData[o]=r.serverData[o];for(var s=0;s<r.pendingOps.length;s++)for(var o in r.pendingOps[s])n.pendingOps[s][o]=r.pendingOps[s][o];for(var o in r.objectCache)n.objectCache[o]=r.objectCache[o];n.existed=r.existed}function g(){P=new _}var _=e("babel-runtime/core-js/weak-map")["default"],w=e("babel-runtime/helpers/interop-require-wildcard")["default"],O=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r.getState=n,r.initializeState=i,r.removeState=o,r.getServerData=s,r.setServerData=a,r.getPendingOps=u,r.setPendingOp=l,r.pushPendingState=c,r.popPendingState=f,r.mergeFirstPendingState=d,r.getObjectCache=h,r.estimateAttribute=p,r.estimateAttributes=v,r.commitServerChanges=y,r.enqueueTask=m,r.duplicateState=b,r.clearAllState=g;var C=e("./ObjectStateMutations"),E=w(C),S=e("./TaskQueue"),k=O(S),P=new _},{"./ObjectStateMutations":9,"./TaskQueue":31,"babel-runtime/core-js/weak-map":51,"babel-runtime/helpers/interop-require-default":56,"babel-runtime/helpers/interop-require-wildcard":57}],33:[function(e,t,r){"use strict";function n(e,t){if(e.indexOf(t)>-1)return!0;for(var r=0;r<e.length;r++)if(e[r]instanceof s["default"]&&e[r].className===t.className&&e[r]._getId()===t._getId())return!0;return!1}var i=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var o=e("./ParseObject"),s=i(o);t.exports=r["default"]},{"./ParseObject":18,"babel-runtime/helpers/interop-require-default":56}],34:[function(e,t,r){"use strict";function n(e){if(!(e instanceof l["default"]))return!0;var t=e.attributes;for(var r in t){var n=t[r];if(!i(n))return!1}return!0}function i(e){if("object"!=typeof e)return!0;if(e instanceof f["default"])return!0;if(e instanceof l["default"])return!!e.id;if(e instanceof a["default"])return e.url()?!0:!1;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(!i(e[t]))return!1;return!0}for(var r in e)if(!i(e[r]))return!1;return!0}var o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var s=e("./ParseFile"),a=o(s),u=e("./ParseObject"),l=o(u),c=e("./ParseRelation"),f=o(c);t.exports=r["default"]},{"./ParseFile":14,"./ParseObject":18,"./ParseRelation":22,"babel-runtime/helpers/interop-require-default":56}],35:[function(e,t,r){"use strict";function n(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e)){var t=[];return e.forEach(function(e,r){t[r]=n(e)}),t}if("string"==typeof e.__op)return(0,d.opFromJSON)(e);if("Pointer"===e.__type&&e.className)return f["default"].fromJSON(e);if("Object"===e.__type&&e.className)return f["default"].fromJSON(e);if("Relation"===e.__type){var r=new p["default"](null,null);return r.targetClassName=e.className,r}if("Date"===e.__type)return new Date(e.iso);if("File"===e.__type)return a["default"].fromJSON(e);if("GeoPoint"===e.__type)return new l["default"]({latitude:e.latitude,longitude:e.longitude});var i={};for(var o in e)i[o]=n(e[o]);return i}var i=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var o=e("./ParseACL"),s=(i(o),e("./ParseFile")),a=i(s),u=e("./ParseGeoPoint"),l=i(u),c=e("./ParseObject"),f=i(c),d=e("./ParseOp"),h=e("./ParseRelation"),p=i(h);t.exports=r["default"]},{"./ParseACL":11,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseObject":18,"./ParseOp":19,"./ParseRelation":22,"babel-runtime/helpers/interop-require-default":56}],36:[function(e,t,r){"use strict";function n(e,t,r,o){if(e instanceof h["default"]){if(t)throw new Error("Parse Objects not allowed here");var s=e.id?e.className+":"+e.id:e;return r||!o||o.indexOf(s)>-1||e.dirty()||i(e._getServerData()).length<1?e.toPointer():(o=o.concat(s),e._toFullJSON(o))}if(e instanceof p.Op||e instanceof a["default"]||e instanceof f["default"]||e instanceof y["default"])return e.toJSON();if(e instanceof l["default"]){if(!e.url())throw new Error("Tried to encode an unsaved file.");return e.toJSON()}if("[object Date]"===m.call(e)){if(isNaN(e))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:e.toJSON()}}if("[object RegExp]"===m.call(e)&&"string"==typeof e.source)return e.source;if(Array.isArray(e))return e.map(function(e){return n(e,t,r,o)});if(e&&"object"==typeof e){var u={};for(var c in e)u[c]=n(e[c],t,r,o);return u}return e}var i=e("babel-runtime/core-js/object/keys")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=e("./ParseACL"),a=o(s),u=e("./ParseFile"),l=o(u),c=e("./ParseGeoPoint"),f=o(c),d=e("./ParseObject"),h=o(d),p=e("./ParseOp"),v=e("./ParseRelation"),y=o(v),m=Object.prototype.toString;r["default"]=function(e,t,r,i){return n(e,!!t,!!r,i||[])},t.exports=r["default"]},{"./ParseACL":11,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseObject":18,"./ParseOp":19,"./ParseRelation":22,"babel-runtime/core-js/object/keys":49,"babel-runtime/helpers/interop-require-default":56}],37:[function(e,t,r){"use strict";function n(e,t){if(typeof e!=typeof t)return!1;if(!e||"object"!=typeof e)return e===t;if(Array.isArray(e)||Array.isArray(t)){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=e.length;r--;)if(!n(e[r],t[r]))return!1;return!0}if(e instanceof a["default"]||e instanceof l["default"]||e instanceof f["default"]||e instanceof h["default"])return e.equals(t);if(i(e).length!==i(t).length)return!1;for(var o in e)if(!n(e[o],t[o]))return!1;return!0}var i=e("babel-runtime/core-js/object/keys")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var s=e("./ParseACL"),a=o(s),u=e("./ParseFile"),l=o(u),c=e("./ParseGeoPoint"),f=o(c),d=e("./ParseObject"),h=o(d);t.exports=r["default"]},{"./ParseACL":11,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseObject":18,"babel-runtime/core-js/object/keys":49,"babel-runtime/helpers/interop-require-default":56}],38:[function(e,t,r){"use strict";function n(e){return e.replace(/[&<>\/'"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}[e]})}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n,t.exports=r["default"]},{}],39:[function(e,t,r){"use strict";function n(e){return e.indexOf("r:")>-1}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n,t.exports=r["default"]},{}],40:[function(e,t,r){"use strict";function n(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),r=t.exec(e);if(!r)return null;var n=r[1]||0,i=(r[2]||1)-1,o=r[3]||0,s=r[4]||0,a=r[5]||0,u=r[6]||0,l=r[8]||0;return new Date(Date.UTC(n,i,o,s,a,u,l))}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n,t.exports=r["default"]},{}],41:[function(e,t,r){"use strict";function n(e){var t=[];return e.forEach(function(e){e instanceof u["default"]?(0,s["default"])(t,e)||t.push(e):t.indexOf(e)<0&&t.push(e)}),t}var i=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var o=e("./arrayContainsObject"),s=i(o),a=e("./ParseObject"),u=i(a);t.exports=r["default"]},{"./ParseObject":18,"./arrayContainsObject":33,"babel-runtime/helpers/interop-require-default":56}],42:[function(e,t,r){"use strict";function n(e,t){var r={objects:{},files:[]},n=e.className+":"+e._getId();r.objects[n]=e.dirty()?e:!0;var o=e.attributes;for(var s in o)"object"==typeof o[s]&&i(o[s],r,!1,!!t);var a=[];for(var u in r.objects)u!==n&&r.objects[u]!==!0&&a.push(r.objects[u]);return a.concat(r.files)}function i(e,t,r,n){if(e instanceof l["default"]){if(!e.id&&r)throw new Error("Cannot create a pointer to an unsaved Object.");var o=e.className+":"+e._getId();if(!t.objects[o]){t.objects[o]=e.dirty()?e:!0;var s=e.attributes;for(var u in s)"object"==typeof s[u]&&i(s[u],t,!n,n)}}else{if(e instanceof a["default"])return void(!e.url()&&t.files.indexOf(e)<0&&t.files.push(e));if(!(e instanceof f["default"])){Array.isArray(e)&&e.forEach(function(e){"object"==typeof e&&i(e,t,r,n)});for(var c in e)"object"==typeof e[c]&&i(e[c],t,r,n)}}}var o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var s=e("./ParseFile"),a=o(s),u=e("./ParseObject"),l=o(u),c=e("./ParseRelation"),f=o(c);t.exports=r["default"]},{"./ParseFile":14,"./ParseObject":18,"./ParseRelation":22,"babel-runtime/helpers/interop-require-default":56}],43:[function(e,t,r){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":60}],44:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":61}],45:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":62}],46:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":63}],47:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":64}],48:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":65}],49:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":66}],50:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":67}],51:[function(e,t,r){t.exports={"default":e("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":68}],52:[function(e,t,r){"use strict";r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],53:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":46}],54:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];r["default"]=function(e,t,r){for(var i=!0;i;){var o=e,s=t,a=r;i=!1,null===o&&(o=Function.prototype);var u=n(o,s);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=s,r=a,i=!0,u=c=void 0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":48}],55:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],i=e("babel-runtime/core-js/object/set-prototype-of")["default"];r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":45,"babel-runtime/core-js/object/set-prototype-of":50}],56:[function(e,t,r){"use strict";r["default"]=function(e){return e&&e.__esModule?e:{"default":e}},r.__esModule=!0},{}],57:[function(e,t,r){"use strict";r["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},r.__esModule=!0},{}],58:[function(e,t,r){},{}],59:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),u=1;n>u;u++)o[u-1]=arguments[u];
r.apply(this,o)}else if(s(r)){for(n=arguments.length,o=new Array(n-1),u=1;n>u;u++)o[u-1]=arguments[u];for(l=r.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(a=o;a-->0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],60:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":117,"../modules/es6.string.iterator":125,"../modules/web.dom.iterable":128}],61:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":78,"../modules/es6.map":119,"../modules/es6.object.to-string":124,"../modules/es6.string.iterator":125,"../modules/es7.map.to-json":127,"../modules/web.dom.iterable":128}],62:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":96}],63:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":96}],64:[function(e,t,r){e("../../modules/es6.object.freeze"),t.exports=e("../../modules/$.core").Object.freeze},{"../../modules/$.core":78,"../../modules/es6.object.freeze":120}],65:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":96,"../../modules/es6.object.get-own-property-descriptor":121}],66:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":78,"../../modules/es6.object.keys":122}],67:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":78,"../../modules/es6.object.set-prototype-of":123}],68:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-map"),t.exports=e("../modules/$.core").WeakMap},{"../modules/$.core":78,"../modules/es6.object.to-string":124,"../modules/es6.weak-map":126,"../modules/web.dom.iterable":128}],69:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],70:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":90}],71:[function(e,t,r){var n=e("./$.ctx"),i=e("./$.is-object"),o=e("./$.iobject"),s=e("./$.to-object"),a=e("./$.to-length"),u=e("./$.is-array"),l=e("./$.wks")("species"),c=function(e,t){var r;return u(e)&&i(r=e.constructor)&&(r=r[l],null===r&&(r=void 0)),new(void 0===r?Array:r)(t)};t.exports=function(e){var t=1==e,r=2==e,i=3==e,u=4==e,l=6==e,f=5==e||l;return function(d,h,p){for(var v,y,m=s(d),b=o(m),g=n(h,p,3),_=a(b.length),w=0,O=t?c(d,_):r?c(d,0):void 0;_>w;w++)if((f||w in b)&&(v=b[w],y=g(v,w,m),e))if(t)O[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:O.push(v)}else if(u)return!1;return l?-1:i||u?u:O}}},{"./$.ctx":79,"./$.iobject":87,"./$.is-array":89,"./$.is-object":90,"./$.to-length":111,"./$.to-object":112,"./$.wks":115}],72:[function(e,t,r){var n=e("./$.cof"),i=e("./$.wks")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},{"./$.cof":73,"./$.wks":115}],73:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],74:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.hide"),o=e("./$.ctx"),s=e("./$.species"),a=e("./$.strict-new"),u=e("./$.defined"),l=e("./$.for-of"),c=e("./$.iter-step"),f=e("./$.uid")("id"),d=e("./$.has"),h=e("./$.is-object"),p=Object.isExtensible||h,v=e("./$.support-desc"),y=v?"_s":"size",m=0,b=function(e,t){if(!h(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!d(e,f)){if(!p(e))return"F";if(!t)return"E";i(e,f,++m)}return"O"+e[f]},g=function(e,t){var r,n=b(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(t,r,i,s){var c=t(function(e,t){a(e,c,r),e._i=n.create(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=t&&l(t,i,e[s],e)});return e("./$.mix")(c.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[y]=0},"delete":function(e){var t=this,r=g(t,e);if(r){var n=r.n,i=r.p;delete t._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==r&&(t._f=n),t._l==r&&(t._l=i),t[y]--}return!!r},forEach:function(e){for(var t,r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!g(this,e)}}),v&&n.setDesc(c.prototype,"size",{get:function(){return u(this[y])}}),c},def:function(e,t,r){var n,i,o=g(e,t);return o?o.v=r:(e._l=o={i:i=b(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[y]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(t,r,n){e("./$.iter-define")(t,r,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?c(0,r.k):"values"==t?c(0,r.v):c(0,[r.k,r.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),s(t),s(e("./$.core")[r])}}},{"./$":96,"./$.core":78,"./$.ctx":79,"./$.defined":81,"./$.for-of":83,"./$.has":85,"./$.hide":86,"./$.is-object":90,"./$.iter-define":93,"./$.iter-step":94,"./$.mix":98,"./$.species":104,"./$.strict-new":105,"./$.support-desc":107,"./$.uid":113}],75:[function(e,t,r){var n=e("./$.for-of"),i=e("./$.classof");t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return n(this,!1,t.push,t),t}}},{"./$.classof":72,"./$.for-of":83}],76:[function(e,t,r){"use strict";var n=e("./$.hide"),i=e("./$.an-object"),o=e("./$.strict-new"),s=e("./$.for-of"),a=e("./$.array-methods"),u=e("./$.uid")("weak"),l=e("./$.is-object"),c=e("./$.has"),f=Object.isExtensible||l,d=a(5),h=a(6),p=0,v=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return d(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);return t?t[1]:void 0},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},"delete":function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,r,n,i){var a=t(function(e,t){o(e,a,r),e._i=p++,e._l=void 0,void 0!=t&&s(t,n,e[i],e)});return e("./$.mix")(a.prototype,{"delete":function(e){return l(e)?f(e)?c(e,u)&&c(e[u],this._i)&&delete e[u][this._i]:v(this)["delete"](e):!1},has:function(e){return l(e)?f(e)?c(e,u)&&c(e[u],this._i):v(this).has(e):!1}}),a},def:function(e,t,r){return f(i(t))?(c(t,u)||n(t,u,{}),t[u][e._i]=r):v(e).set(t,r),e},frozenStore:v,WEAK:u}},{"./$.an-object":70,"./$.array-methods":71,"./$.for-of":83,"./$.has":85,"./$.hide":86,"./$.is-object":90,"./$.mix":98,"./$.strict-new":105,"./$.uid":113}],77:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.def"),o=e("./$.hide"),s=e("./$.for-of"),a=e("./$.strict-new");t.exports=function(t,r,u,l,c,f){var d=e("./$.global")[t],h=d,p=c?"set":"add",v=h&&h.prototype,y={};return e("./$.support-desc")&&"function"==typeof h&&(f||v.forEach&&!e("./$.fails")(function(){(new h).entries().next()}))?(h=r(function(e,r){a(e,h,t),e._c=new d,void 0!=r&&s(r,c,e[p],e)}),n.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in v&&(!f||"clear"!=e)&&o(h.prototype,e,function(r,n){var i=this._c[e](0===r?0:r,n);return t?this:i})}),"size"in v&&n.setDesc(h.prototype,"size",{get:function(){return this._c.size}})):(h=l.getConstructor(r,t,c,p),e("./$.mix")(h.prototype,u)),e("./$.tag")(h,t),y[t]=h,i(i.G+i.W+i.F,y),f||l.setStrong(h,t,c),h}},{"./$":96,"./$.def":80,"./$.fails":82,"./$.for-of":83,"./$.global":84,"./$.hide":86,"./$.mix":98,"./$.strict-new":105,"./$.support-desc":107,"./$.tag":108}],78:[function(e,t,r){var n=t.exports={version:"1.2.3"};"number"==typeof __e&&(__e=n)},{}],79:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":69}],80:[function(e,t,r){var n=e("./$.global"),i=e("./$.core"),o="prototype",s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t,r){var u,l,c,f,d=e&a.G,h=e&a.P,p=d?n:e&a.S?n[t]:(n[t]||{})[o],v=d?i:i[t]||(i[t]={});d&&(r=t);for(u in r)l=!(e&a.F)&&p&&u in p,l&&u in v||(c=l?p[u]:r[u],d&&"function"!=typeof p[u]?f=r[u]:e&a.B&&l?f=s(c,n):e&a.W&&p[u]==c?!function(e){f=function(t){return this instanceof e?new e(t):e(t)},f[o]=e[o]}(c):f=h&&"function"==typeof c?s(Function.call,c):c,v[u]=f,h&&((v[o]||(v[o]={}))[u]=c))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},{"./$.core":78,"./$.global":84}],81:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],82:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],83:[function(e,t,r){var n=e("./$.ctx"),i=e("./$.iter-call"),o=e("./$.is-array-iter"),s=e("./$.an-object"),a=e("./$.to-length"),u=e("./core.get-iterator-method");t.exports=function(e,t,r,l){var c,f,d,h=u(e),p=n(r,l,t?2:1),v=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h))for(c=a(e.length);c>v;v++)t?p(s(f=e[v])[0],f[1]):p(e[v]);else for(d=h.call(e);!(f=d.next()).done;)i(d,p,f.value,t)}},{"./$.an-object":70,"./$.ctx":79,"./$.is-array-iter":88,"./$.iter-call":91,"./$.to-length":111,"./core.get-iterator-method":116}],84:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],85:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],86:[function(e,t,r){var n=e("./$"),i=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":96,"./$.property-desc":100,"./$.support-desc":107}],87:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":73}],88:[function(e,t,r){var n=e("./$.iterators"),i=e("./$.wks")("iterator");t.exports=function(e){return(n.Array||Array.prototype[i])===e}},{"./$.iterators":95,"./$.wks":115}],89:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":73}],90:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],91:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var s=e["return"];throw void 0!==s&&n(s.call(e)),o}}},{"./$.an-object":70}],92:[function(e,t,r){"use strict";var n=e("./$"),i={};e("./$.hide")(i,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,r,o){t.prototype=n.create(i,{next:e("./$.property-desc")(1,o)}),e("./$.tag")(t,r+" Iterator")}},{"./$":96,"./$.hide":86,"./$.property-desc":100,"./$.tag":108,"./$.wks":115}],93:[function(e,t,r){"use strict";var n=e("./$.library"),i=e("./$.def"),o=e("./$.redef"),s=e("./$.hide"),a=e("./$.has"),u=e("./$.wks")("iterator"),l=e("./$.iterators"),c=!([].keys&&"next"in[].keys()),f="@@iterator",d="keys",h="values",p=function(){return this};t.exports=function(t,r,v,y,m,b,g){e("./$.iter-create")(v,r,y);var _,w,O=function(e){switch(e){case d:return function(){return new v(this,e)};case h:return function(){return new v(this,e)}}return function(){return new v(this,e)}},C=r+" Iterator",E=t.prototype,S=E[u]||E[f]||m&&E[m],k=S||O(m);if(S){var P=e("./$").getProto(k.call(new t));e("./$.tag")(P,C,!0),!n&&a(E,f)&&s(P,u,p)}if((!n||g)&&s(E,u,k),l[r]=k,l[C]=p,m)if(_={values:m==h?k:O(h),keys:b?k:O(d),entries:m!=h?k:O("entries")},g)for(w in _)w in E||o(E,w,_[w]);else i(i.P+i.F*c,r,_)}},{"./$":96,"./$.def":80,"./$.has":85,"./$.hide":86,"./$.iter-create":92,"./$.iterators":95,"./$.library":97,"./$.redef":101,"./$.tag":108,"./$.wks":115}],94:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],95:[function(e,t,r){t.exports={}},{}],96:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],97:[function(e,t,r){t.exports=!0},{}],98:[function(e,t,r){var n=e("./$.redef");t.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},{"./$.redef":101}],99:[function(e,t,r){t.exports=function(t,r){var n=e("./$.def"),i=(e("./$.core").Object||{})[t]||Object[t],o={};o[t]=r(i),n(n.S+n.F*e("./$.fails")(function(){i(1)}),"Object",o)}},{"./$.core":78,"./$.def":80,"./$.fails":82}],100:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],101:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":86}],102:[function(e,t,r){var n=e("./$").getDesc,i=e("./$.is-object"),o=e("./$.an-object"),s=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(o){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:s}},{"./$":96,"./$.an-object":70,"./$.ctx":79,"./$.is-object":90}],103:[function(e,t,r){var n=e("./$.global"),i="__core-js_shared__",o=n[i]||(n[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./$.global":84}],104:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.wks")("species");t.exports=function(t){!e("./$.support-desc")||i in t||n.setDesc(t,i,{configurable:!0,get:function(){return this}})}},{"./$":96,"./$.support-desc":107,"./$.wks":115}],105:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],106:[function(e,t,r){var n=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,r){var o,s,a=String(i(t)),u=n(r),l=a.length;return 0>u||u>=l?e?"":void 0:(o=a.charCodeAt(u),55296>o||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):(o-55296<<10)+(s-56320)+65536)}}},{"./$.defined":81,"./$.to-integer":109}],107:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":82}],108:[function(e,t,r){var n=e("./$").setDesc,i=e("./$.has"),o=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},{"./$":96,"./$.has":85,"./$.wks":115}],109:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],110:[function(e,t,r){var n=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return n(i(e))}},{"./$.defined":81,"./$.iobject":87}],111:[function(e,t,r){var n=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./$.to-integer":109}],112:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":81}],113:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],114:[function(e,t,r){t.exports=function(){}},{}],115:[function(e,t,r){var n=e("./$.shared")("wks"),i=e("./$.global").Symbol;t.exports=function(t){return n[t]||(n[t]=i&&i[t]||(i||e("./$.uid"))("Symbol."+t))}},{"./$.global":84,"./$.shared":103,"./$.uid":113}],116:[function(e,t,r){var n=e("./$.classof"),i=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[n(e)]:void 0}},{"./$.classof":72,"./$.core":78,"./$.iterators":95,"./$.wks":115}],117:[function(e,t,r){var n=e("./$.an-object"),i=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":70,"./$.core":78,"./core.get-iterator-method":116}],118:[function(e,t,r){"use strict";var n=e("./$.unscope"),i=e("./$.iter-step"),o=e("./$.iterators"),s=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./$.iter-define":93,"./$.iter-step":94,"./$.iterators":95,"./$.to-iobject":110,"./$.unscope":114}],119:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},{"./$.collection":77,"./$.collection-strong":74}],120:[function(e,t,r){var n=e("./$.is-object");e("./$.object-sap")("freeze",function(e){return function(t){return e&&n(t)?e(t):t}})},{"./$.is-object":90,"./$.object-sap":99}],121:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":99,"./$.to-iobject":110}],122:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":99,"./$.to-object":112}],123:[function(e,t,r){var n=e("./$.def");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":80,"./$.set-proto":102}],124:[function(e,t,r){arguments[4][58][0].apply(r,arguments)},{dup:58}],125:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":93,"./$.string-at":106}],126:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.collection-weak"),o=e("./$.is-object"),s=e("./$.has"),a=i.frozenStore,u=i.WEAK,l=Object.isExtensible||o,c={},f=e("./$.collection")("WeakMap",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){if(o(e)){if(!l(e))return a(this).get(e);if(s(e,u))return e[u][this._i]}},set:function(e,t){return i.def(this,e,t)}},i,!0,!0);7!=(new f).set((Object.freeze||Object)(c),7).get(c)&&n.each.call(["delete","has","get","set"],function(t){var r=f.prototype,n=r[t];e("./$.redef")(r,t,function(e,r){if(o(e)&&!l(e)){var i=a(this)[t](e,r);return"set"==t?this:i}return n.call(this,e,r)})})},{"./$":96,"./$.collection":77,"./$.collection-weak":76,"./$.has":85,"./$.is-object":90,"./$.redef":101}],127:[function(e,t,r){var n=e("./$.def");n(n.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":75,"./$.def":80}],128:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":95,"./es6.array.iterator":118}]},{},[10])(10)});